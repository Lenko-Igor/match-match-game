(()=>{"use strict";var t={323:(t,e,n)=>{n.r(e)},663:(t,e,n)=>{n.r(e)},954:(t,e,n)=>{n.r(e)},734:(t,e,n)=>{n.r(e)},220:(t,e,n)=>{n.r(e)},70:(t,e,n)=>{n.r(e)},476:(t,e,n)=>{n.r(e)},776:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.createElement=function(t,e,n){var o,i=document.createElement(t);return e.length&&(o=i.classList).add.apply(o,e),n&&(i.id=n),i},t}();e.default=n},979:function(t,e,n){var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),n(323);var a=function(t){function e(){var e=t.call(this)||this;return e.date=[{point:"1",text:"Register new player in game",class:"image1"},{point:"2",text:"Configure your game settings",class:"image2"},{point:"3",text:"Start you new game! Remember card positions and match it before times up.",class:"image3"}],e}return i(e,t),e.prototype.getPage=function(){return this.createMain()},e.prototype.createMain=function(){var t=this.createElement("main",["main"],""),e=this.createElement("div",["container","main-container"],""),n=this.createElement("div",["wrap-content"],"");return n.innerHTML=this.createContent(this.date),e.append(n),t.append(e),t},e.prototype.createContent=function(t){return'<h2 class="content-title">How to play?</h2>'+t.map((function(t){return'\n      <div class="content-feild">\n        <div class="content-row">\n          <div class="content-row__left">\n            <div class="point">\n              <p>'+t.point+"</p>\n            </div>\n            <p>"+t.text+'</p>\n          </div>\n          <div class="content-row__right '+t.class+'"></div>\n        </div>\n      </div>\n      '})).join("")},e}(r(n(776)).default);e.default=a},123:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.db,this.openRequest(),this.dataAllPersons=[]}return t.prototype.openRequest=function(){var t=this,e=indexedDB.open("Lenko-Igor",1);e.onupgradeneeded=function(t){var e=t.target.result;e.objectStoreNames.contains("people")||e.createObjectStore("people")},e.onsuccess=function(e){var n=e.target;t.db=n.result,t.getAllPersons()},e.onerror=function(t){return console.log("Error:",t)}},t.prototype.addPerson=function(t){if(this.db){var e=this.db.transaction(["people"],"readwrite").objectStore("people").add(t,t.email);e.onerror=function(t){console.log("error",t)},e.onsuccess=function(t){console.log("it is good")}}},t.prototype.getAllPersons=function(){var t=this,e=[];if(this.db){var n=this.db.transaction(["people"],"readwrite").objectStore("people").openCursor();n.onsuccess=function(o){var i=n.result;i&&(e.push(i.value),i.continue()),t.dataAllPersons=e}}},t.prototype.upDatePerson=function(t){if(this.db){var e=this.db.transaction(["people"],"readwrite").objectStore("people").openCursor();e.onsuccess=function(n){var o=e.result;if(o){if(o.value.email===t.email){var i=o.update(t);i.onsuccess=function(t){console.log("update success!!")},i.onerror=function(t){console.log("update failed!!")}}o.continue()}}}},t}();e.default=n},811:function(t,e,n){var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),n(663);var a=r(n(776)),s=r(n(240)),l=function(t){function e(){var e=t.call(this)||this;return e.props=[],e.timer=new s.default,e}return i(e,t),e.prototype.getPage=function(t,e){return this.props=t,this.createGame(e)},e.prototype.createFeildGame=function(t){var e=this.createElement("div",["cards-feild"],"");return e.append(this.createCards(t)),e},e.prototype.createCards=function(t){var e=this,n=this.createElement("div",["card-container",t],""),o=this.props.map((function(t){return e.createCard(t)})).join("");return n.innerHTML=o,n},e.prototype.createCard=function(t){return'\n    <div style="perspective: 25rem">\n      <div class="card-wrap" data-value='+t+'>\n        <div class="card back"></div>\n        <div class="card front" \n            style="background: url(\'../src/images/game/'+t+"') no-repeat center;\n            background-size: cover;\">\n        </div>\n      </div>\n    </div>\n    "},e.prototype.createGame=function(t){var e=this.createElement("main",["main"],""),n=this.createElement("div",["wrap-content"],"");return n.append(this.timer.createHTMLElementTimer()),n.append(this.createFeildGame(t)),e.append(n),e},e.prototype.toRotateCard=function(t){(null==t?void 0:t.classList.contains("rotate"))&&(null==t||t.classList.toggle("rotate"))},e.prototype.toRotateAllcards=function(t){null==t||t.classList.toggle("rotate")},e.prototype.getResultSelectCards=function(t){var e=this;t.forEach((function(t){e.toRotateAllcards(t)}))},e}(a.default);e.default=l},922:function(t,e,n){var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),n(954);var a=function(t){function e(){var e=t.call(this)||this;return e.feild=e.createElement("header",["header"],""),e.container=e.createContainer(),e.logo=e.createLogo(),e.menu=e.createMenu(),e.name=e.createElement("p",["first-name","hidden"],"firstName"),e.button=e.createButton(),e}return i(e,t),e.prototype.getHeader=function(){return this.toPlaceElements(this.container,[this.logo,this.menu,this.button]),this.toPlaceElements(this.feild,[this.container]),this.feild},e.prototype.createContainer=function(){return this.createElement("div",["container","header-container"],"")},e.prototype.createLogo=function(){var t=this.createElement("div",["header-logo"],"");return t.innerHTML='\n      <div class="logo-up">\n        <p class="logo-text">MATCH</p>\n      </div>\n      <div class="logo-down">\n        <p class="logo-text">MATCH</p>\n      </div>\n    ',t},e.prototype.createMenu=function(){var t=this.createElement("menu",["menu"],"");return t.innerHTML='\n      <ul class="header-menu__items">\n        <li class="header-menu__item item-about item-select">\n          <div class="header-menu__img"><p>?</p></div>\n          <p class="header-menu__text">About Game</p>  \n        </li>\n        <li class="header-menu__item item-score">\n          <div class="header-menu__img"></div>\n          <p class="header-menu__text">Best Score</p> \n        </li>\n        <li class="header-menu__item item-setting">\n          <div class="header-menu__img"></div>\n          <p class="header-menu__text">Game Settings</p>\n        </li>\n      </ul>\n    ',t},e.prototype.createButton=function(){var t=this.createElement("div",["header-button-feild"],""),e=this.createElement("button",["header-button","header-button-start","hidden"],"startGame"),n=this.createElement("button",["header-button"],"regBtn");return e.innerHTML='\n      <p class="header-button__text">start game</p>\n    ',n.innerHTML='\n      <p class="header-button__text">register new player</p>\n    ',t.append(this.name),t.append(e),t.append(n),t},e.prototype.toPlaceElements=function(t,e){e.forEach((function(e){return t.append(e)}))},e}(r(n(776)).default);e.default=a},245:function(t,e,n){var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),n(734);var a=function(t){function e(){var e=t.call(this)||this;return e.backgroundFon=e.createElement("div",["modal-fon"],""),e.modalRegistrationBlock=e.createElement("section",["modal-registration-block"],""),e.modalWinBlock=e.createElement("section",["modal-win-block"],""),e.titleWinBlock=e.createElement("h2",["modal-win-title"],""),e.modalWindow=e.buildModal(),e.score=0,e}return i(e,t),e.prototype.createInputForm=function(){return'\n      <form class="modal-form">\n        <div class="form-block">\n          <label for="firstName" class="modal-form__label">First Name</label>\n          <input type="text" class="modal-form__input" name="firstName" id="firstName" required placeholder="..." value="">     \n          <div class="form-block__check error"></div>   \n        </div>\n        <div class="form-block">\n          <label for="lastName" class="modal-form__label">Last Name</label>\n          <input type="text" class="modal-form__input" name="lastName" id="lastName" required placeholder="...">   \n          <div class="form-block__check error"></div>      \n        </div>\n        <div class="form-block">\n          <label for="email" class="modal-form__label">E-mail</label>\n          <input type="email" class="modal-form__input" name="email" id="email" required placeholder="..."> \n          <div class="form-block__check error"></div>        \n        </div>\n      </form>\n    '},e.prototype.createRegistrationBlock=function(){return this.modalRegistrationBlock.innerHTML='\n      <header class="modal-header">\n        <h2>Registr new Player</h2>\n      </header>\n      <main class="modal-main">\n        '+this.createInputForm()+'\n        <div class="modal-avatar"></div>\n      </main>\n      <footer class="modal-footer">\n        <button id="add" class="add disabled"><p>add user</p></button>\n        <button id="cancel" class="cancel"><p>cancel</p></button>\n      </footer>\n    ',this.modalRegistrationBlock},e.prototype.createWinBlock=function(){return this.modalWinBlock.innerHTML='\n      <p class="win-text">Congratulations! You successfully found all matches.</p>\n      <button class="win-button" id="win">\n        <p class="win-button__text">OK</p>\n      </button>\n    ',this.modalWinBlock.prepend(this.titleWinBlock),this.modalWinBlock},e.prototype.buildModal=function(){return this.backgroundFon.append(this.createRegistrationBlock()),this.backgroundFon.append(this.createWinBlock()),this.backgroundFon},e.prototype.openModalRegistration=function(){this.backgroundFon.classList.add("modal-fon_active"),this.modalRegistrationBlock.classList.add("active")},e.prototype.closeModalRegistration=function(){this.backgroundFon.classList.remove("modal-fon_active"),this.modalRegistrationBlock.classList.remove("active")},e.prototype.openModalWin=function(t){this.titleWinBlock.innerHTML="\n    You score: \n    <span>"+t+"</span>\n    ",this.backgroundFon.classList.add("modal-fon_active"),this.modalWinBlock.classList.add("active")},e.prototype.closeModalWin=function(){this.backgroundFon.classList.remove("modal-fon_active"),this.modalWinBlock.classList.remove("active")},e}(r(n(776)).default);e.default=a},861:function(t,e,n){var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),n(220);var a=function(t){function e(){return t.call(this)||this}return i(e,t),e.prototype.getPage=function(t){return this.createMain(t)},e.prototype.createMain=function(t){var e=this.createElement("main",["main"],""),n=this.createElement("div",["container","main-container"],""),o=this.createElement("div",["wrap-content"],"wrap-score");return o.append(this.createTittle()),o.append(this.createListScore(t)),n.append(o),e.append(n),e},e.prototype.createTittle=function(){var t=this.createElement("h2",["score-title"],"");return t.innerHTML="Best players",t},e.prototype.createListScore=function(t){var e=this.createElement("ul",["score-list"],""),n=t.slice(0).sort((function(t,e){var n=0;return t.score&&e.score&&(n=t.score-e.score),n})).reverse().splice(0,10).map((function(t){return'\n        <li class="item">\n          <div class="item__person">\n            <p class="item__person-name">'+t.firstName+" "+t.lastName+'</p>\n            <p class="item__person-email">'+t.email+'</p>\n          </div>\n          <p class="item__score">Score: <span>'+t.score+"</span></p>\n        </li>\n      "})).join("");return e.innerHTML=n,e},e}(r(n(776)).default);e.default=a},608:function(t,e,n){var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),n(70);var a=function(t){function e(){var e=t.call(this)||this;return e.difficulty="easy",e.typeCards="auto",e}return i(e,t),e.prototype.getPage=function(){return this.createMain()},e.prototype.createMain=function(){var t=this,e=this.createElement("main",["main"],""),n=this.createElement("div",["container","main-container"],""),o=this.createElement("div",["setting-content"],""),i=this.createElement("h2",["setting-title"],""),r=this.createElement("form",["setting-feild"],""),a=this.createElement("h2",["setting-title"],""),s=this.createElement("form",["setting-feild"],"");return i.innerHTML="Difficulty",a.innerHTML="Game cards",["easy","middle","difficult"].forEach((function(e){r.append(t.creteDifficultyBlock(e))})),["auto","animal"].forEach((function(e){s.append(t.createTypeCardsBlock(e))})),o.append(i),o.append(r),o.append(a),o.append(s),n.append(o),e.append(n),e},e.prototype.creteDifficultyBlock=function(t){var e=this,n=this.createElement("div",["setting-select__wrap"],""),o=this.createElement("label",["setting-select__title"],""),i=this.createElement("input",["setting-select"],t);return o.setAttribute("for",t),o.innerHTML=t,i.setAttribute("name","difficulty"),i.setAttribute("type","radio"),i.id=t,i.addEventListener("change",(function(){e.difficulty=i.id})),t===this.difficulty&&i.setAttribute("checked","checked"),n.append(o),n.append(i),n},e.prototype.createTypeCardsBlock=function(t){var e=this,n=this.createElement("div",["setting-select__wrap"],""),o=this.createElement("label",["setting-select__title"],""),i=this.createElement("input",["setting-select"],t);return o.setAttribute("for",t),o.innerHTML=t,i.setAttribute("name","images"),i.setAttribute("type","radio"),i.id=t,i.addEventListener("change",(function(){e.typeCards=i.id})),t===this.typeCards&&i.setAttribute("checked","checked"),n.append(o),n.append(i),n},e.prototype.getValueDifficulty=function(){return this.difficulty},e.prototype.getTypeCards=function(){return this.typeCards},e}(r(n(776)).default);e.default=a},240:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.valueTimer=0,this.minutes=0,this.seconds=0,this.timerFeild=document.createElement("div"),this.timerHTML=document.createElement("p")}return t.prototype.createHTMLElementTimer=function(){return this.timerFeild.className="timer",this.timerHTML.className="timer-text",this.showTimerValue(this.minutes,this.seconds),this.timerFeild.append(this.timerHTML),this.timerFeild},t.prototype.showTimerValue=function(t,e){var n=t<10?"0"+t:""+t,o=e<10?"0"+e:""+e;this.timerHTML.innerHTML=n+":"+o},t.prototype.startTimer=function(){var t=this;this.valueTimer=0,this.showTimerValue(this.minutes,this.seconds),this.startTimerInterval=setInterval((function(){t.valueTimer++,t.minutes=Math.floor(t.valueTimer/60),t.seconds=t.valueTimer-60*t.minutes,t.showTimerValue(t.minutes,t.seconds)}),1e3)},t.prototype.stopTimer=function(){this.startTimerInterval&&clearInterval(this.startTimerInterval)},t}();e.default=n},303:function(t,e,n){var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),n(476);var i=o(n(114)),r=o(n(776));window.onload=function(){var t=(new r.default).createElement("div",[],"app");document.body.prepend(t),i.default(t)}},114:function(t,e,n){var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(i,r){function a(t){try{l(o.next(t))}catch(t){r(t)}}function s(t){try{l(o.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((o=o.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=r(n(776)),s=r(n(922)),l=r(n(979)),c=r(n(861)),u=r(n(608)),d=r(n(245)),p=r(n(811)),h=r(n(123));e.default=function(t){var e=function(){function t(t){this.app=t,this.modalFeild=(new a.default).createElement("div",["modal-feild"],""),this.ModalWindow=new d.default,this.modalWindow=this.ModalWindow.modalWindow,this.header=new s.default,this.AboutPage=(new l.default).getPage(),this.ScorePage=new c.default,this.Settings=new u.default,this.Game=new p.default,this.init()}return t.prototype.init=function(){this.modalFeild.append(this.modalWindow),this.app.before(this.modalFeild)},t.prototype.showFirstPage=function(){this.app.append(this.header.getHeader()),this.app.append(this.AboutPage)},t.prototype.openSelectedPage=function(t,e){this.header.menu.querySelectorAll(".header-menu__item").forEach((function(t){return t.classList.remove("item-select")})),t.classList.add("item-select"),t.classList.contains("item-about")&&this.showPage(this.AboutPage),t.classList.contains("item-score")&&e&&this.showPage(this.ScorePage.getPage(e)),t.classList.contains("item-setting")&&this.showPage(this.Settings.getPage())},t.prototype.openScorePage=function(t){t&&this.showPage(this.ScorePage.getPage(t))},t.prototype.showModalWindow=function(t,e){t&&e?this.ModalWindow.openModalWin(e):this.ModalWindow.openModalRegistration()},t.prototype.hiddenModalWindow=function(t){if(t)this.ModalWindow.closeModalWin();else{var e=document.querySelector(".modal-fon"),n=null==e?void 0:e.querySelectorAll("input");this.ModalWindow.closeModalRegistration(),null==n||n.forEach((function(t){var e;t.value="",null===(e=t.nextElementSibling)||void 0===e||e.classList.add("error")}))}},t.prototype.showStartGameButton=function(){var t=this.app.querySelector("#regBtn"),e=this.app.querySelector("#startGame");null==t||t.classList.add("hidden"),null==e||e.classList.remove("hidden")},t.prototype.showStartStopGameButton=function(t,e){var n=this.app.querySelector(".header-button-start");if(n){n.id=t;var o=n.firstElementChild;o&&(o.innerHTML=e)}},t.prototype.showAvatarName=function(t){this.header.name.innerHTML=t,this.header.name.classList.toggle("hidden")},t.prototype.showStatusInput=function(t,e){var n,o,i=this.modalWindow.querySelector("#"+t);e?null===(n=null==i?void 0:i.nextElementSibling)||void 0===n||n.classList.remove("error"):null===(o=null==i?void 0:i.nextElementSibling)||void 0===o||o.classList.add("error")},t.prototype.showStylesdAddButton=function(t){var e=document.querySelector("#add");if(!e)throw"error";t?(e.classList.add("disabled"),e.classList.remove("active")):(e.classList.remove("disabled"),e.classList.add("active"))},t.prototype.showGamePage=function(t,e){var n;null===(n=this.app.lastElementChild)||void 0===n||n.replaceWith(this.Game.getPage(t,e))},t.prototype.showPage=function(t){var e;null===(e=this.app.lastElementChild)||void 0===e||e.replaceWith(t)},t.prototype.showRotate=function(t){this.Game.toRotateCard(t)},t.prototype.showResultSelect=function(t){this.Game.getResultSelectCards(t)},t.prototype.rotateAllCards=function(){var t=this;this.app.querySelectorAll(".card-wrap").forEach((function(e){t.Game.toRotateAllcards(e)}))},t.prototype.showStartTimer=function(){this.Game.timer.startTimer()},t.prototype.showStopTimer=function(){this.Game.timer.stopTimer()},t}(),n=function(){function t(t){this.view=t,this.regData={firstName:"",lastName:"",email:""},this.arrElementsPressed=[],this.imagesForGame=[],this.settingData={},this.difficulty=this.view.Settings.getValueDifficulty(),this.itemsForScore={amountAllCards:0,amountOpenedCards:0,amountAllCompareCards:0,amountFatalCompareCards:0,timer:0},this.score=0,this.dataBase=new h.default,this.init(),this.getDataSettings()}return t.prototype.init=function(){this.getLoadFirstPage()},t.prototype.getLoadFirstPage=function(){this.view.showFirstPage()},t.prototype.selectMenu=function(t){this.getStopGame(),t.classList.contains("item-score")?this.view.openSelectedPage(t,this.dataBase.dataAllPersons):this.view.openSelectedPage(t)},t.prototype.closeModalWindow=function(t){t&&(this.regData.firstName="",this.regData.lastName="",this.regData.email="",this.getStatusDisabledButton(!0)),this.view.hiddenModalWindow()},t.prototype.closeModalWin=function(){this.view.hiddenModalWindow("win"),this.view.openScorePage(this.dataBase.dataAllPersons)},t.prototype.openModalWindow=function(){this.view.showModalWindow()},t.prototype.checkValueInput=function(t,e){"firstName"!==t&&"lastName"!==t||(/^[a-zA-Zа-яА-Я]+$/iu.test(e)?(this.regData[t]=e,this.view.showStatusInput(t,!0)):(this.regData[t]="",this.view.showStatusInput(t,!1))),"email"===t&&(/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(e)?(this.regData[t]=e,this.view.showStatusInput(t,!0)):(this.regData[t]="",this.view.showStatusInput(t,!1))),this.checkValueData()?this.getStatusDisabledButton(!1):this.getStatusDisabledButton(!0)},t.prototype.checkValueData=function(){var t=!1;return this.regData.firstName&&this.regData.lastName&&this.regData.email&&(t=!t),t},t.prototype.getStatusDisabledButton=function(t){this.view.showStylesdAddButton(t)},t.prototype.checkRegistrationData=function(){this.checkValueData()&&(this.closeModalWindow(),this.view.showStartGameButton(),this.view.showAvatarName(this.regData.firstName))},t.prototype.getStartGame=function(){var t=this;this.imagesForGame=this.getPropsForGame(this.settingData,this.view.Settings.getValueDifficulty(),this.view.Settings.getTypeCards()),this.view.showGamePage(this.imagesForGame,this.view.Settings.getValueDifficulty()),this.view.showStartTimer(),this.view.showStartStopGameButton("stopGame","stop game"),this.itemsForScore.amountAllCards=this.imagesForGame.length,this.itemsForScore.amountOpenedCards=0,this.itemsForScore.amountAllCompareCards=0,this.itemsForScore.amountFatalCompareCards=0,this.itemsForScore.timer=0,setTimeout((function(){t.view.rotateAllCards()}),3e4)},t.prototype.getStopGame=function(t){if(this.arrElementsPressed=[],this.view.showStartStopGameButton("startGame","start game"),this.view.showStopTimer(),this.itemsForScore.timer=this.view.Game.timer.valueTimer,t){this.score=100*(this.itemsForScore.amountAllCompareCards-this.itemsForScore.amountFatalCompareCards)-10*this.itemsForScore.timer;var e={firstName:this.regData.firstName,lastName:this.regData.lastName,email:this.regData.email,score:this.score};this.checkInDataBasePerson(e)?this.dataBase.upDatePerson(e):this.dataBase.addPerson(e),this.dataBase.getAllPersons(),this.view.showModalWindow("win",this.score)}},t.prototype.checkInDataBasePerson=function(t){var e=!1;return this.dataBase.dataAllPersons.forEach((function(n){t.email===n.email&&(e=!0)})),e},t.prototype.getDataSettings=function(){return o(this,void 0,void 0,(function(){var t;return i(this,(function(e){switch(e.label){case 0:return[4,fetch("../setting.json")];case 1:return[4,e.sent().json()];case 2:return t=e.sent(),this.settingData=t,[2]}}))}))},t.prototype.getPropsForGame=function(t,e,n){var o=t.difficulty[e],i=t.images[n].slice(0,o);return i.map((function(t){return i})).reduce((function(t,e){return t.concat(e)}),[]).sort((function(){return Math.random()-.5}))},t.prototype.toRotateCard=function(t){this.view.showRotate(t),this.toFillarrElementsPressed(t)},t.prototype.toFillarrElementsPressed=function(t){this.arrElementsPressed.length<=1&&(this.arrElementsPressed.push(t),this.checkElementsPressed(this.arrElementsPressed))},t.prototype.checkElementsPressed=function(t){var e=this;2===t.length&&(this.itemsForScore.amountAllCompareCards++,t[0].dataset.value!==t[1].dataset.value?(this.itemsForScore.amountFatalCompareCards++,setTimeout((function(){e.view.showResultSelect(t),e.arrElementsPressed=[]}),500)):(this.itemsForScore.amountOpenedCards+=2,this.arrElementsPressed=[],this.itemsForScore.amountOpenedCards===this.itemsForScore.amountAllCards&&this.getStopGame("win")))},t}();new(function(){function t(t,e){this.app=t,this.model=e,this.init()}return t.prototype.init=function(){var t=this,e=document.querySelector(".modal-feild"),n=document.querySelector("#add"),o=document.querySelector("#win"),i=document.querySelector("#cancel"),r=this.app.querySelector("#regBtn"),a=null==e?void 0:e.querySelectorAll("input"),s=this.app.querySelectorAll(".header-menu__item");null==n||n.addEventListener("click",(function(){t.clickAddBtnModal();var e=t.app.querySelector(".header-button-start");null==e||e.addEventListener("click",(function(){"startGame"!==e.id?"stopGame"!==e.id||t.clickStopGame():t.clickStartGame()}))})),null==i||i.addEventListener("click",(function(){t.clickCancelBtnModal()})),null==o||o.addEventListener("click",(function(){t.clickWinBtnModal()})),null==a||a.forEach((function(e){e.addEventListener("change",(function(){t.getParametrsInput(e.id,e.value)}))})),s.forEach((function(e){e.addEventListener("click",(function(){t.clickMenuButton(e)}))})),null==r||r.addEventListener("click",(function(){t.clickNewPlayerBtn()}))},t.prototype.clickMenuButton=function(t){this.model.selectMenu(t)},t.prototype.clickNewPlayerBtn=function(){this.model.openModalWindow()},t.prototype.clickCancelBtnModal=function(){this.model.closeModalWindow("deleteData")},t.prototype.clickAddBtnModal=function(){this.model.checkRegistrationData()},t.prototype.clickWinBtnModal=function(){this.model.closeModalWin()},t.prototype.getParametrsInput=function(t,e){this.model.checkValueInput(t,e)},t.prototype.clickStartGame=function(){var t=this;this.model.getStartGame(),document.querySelectorAll(".card-wrap").forEach((function(e){e.addEventListener("click",(function(){e.classList.contains("rotate")&&t.model.toRotateCard(e)}))}))},t.prototype.clickStopGame=function(){this.model.getStopGame()},t}())(t,new n(new e(t)))}}},e={};function n(o){var i=e[o];if(void 0!==i)return i.exports;var r=e[o]={exports:{}};return t[o].call(r.exports,r,r.exports,n),r.exports}n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(303)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9iYXNlLWNvbXBvbmVudC50cyIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL2Fib3V0L2Fib3V0LnRzIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvZGF0YS1iYXNlL2RhdGEtYmFzZS50cyIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL2dhbWUvZ2FtZS50cyIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL2hlYWRlci9oZWFkZXIudHMiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9yZWdpc3RyYXRpb24vcmVnaXN0cmF0aW9uLWZvcm0udHMiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9zY29yZS9zY29yZS50cyIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL3NldHRpbmdzLXBhZ2Uvc2V0dGluZ3MudHMiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy90aW1lci90aW1lci50cyIsIndlYnBhY2s6Ly8vLi9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9tdmMudHMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovLy93ZWJwYWNrL3N0YXJ0dXAiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJCYXNlQ29tcG9uZW50IiwicHJvdG90eXBlIiwiY3JlYXRlRWxlbWVudCIsInRlZyIsImNsYXNzU3R5bGUiLCJpZCIsIl9hIiwiZWxlbWVudCIsImRvY3VtZW50IiwibGVuZ3RoIiwiY2xhc3NMaXN0IiwiYWRkIiwiYXBwbHkiLCJkZWZhdWx0IiwiZXh0ZW5kU3RhdGljcyIsIl9fZXh0ZW5kcyIsInRoaXMiLCJkIiwiYiIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiQXJyYXkiLCJwIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiVHlwZUVycm9yIiwiU3RyaW5nIiwiX18iLCJjb25zdHJ1Y3RvciIsImNyZWF0ZSIsIl9faW1wb3J0RGVmYXVsdCIsIm1vZCIsIl9fZXNNb2R1bGUiLCJBYm91dFBhZ2UiLCJfc3VwZXIiLCJfdGhpcyIsImRhdGUiLCJwb2ludCIsInRleHQiLCJjbGFzcyIsImdldFBhZ2UiLCJjcmVhdGVNYWluIiwibWFpbiIsImNvbnRhaW5lciIsIndyYXBDb250ZW50IiwiaW5uZXJIVE1MIiwiY3JlYXRlQ29udGVudCIsImFwcGVuZCIsImFyciIsIm1hcCIsImVsZW0iLCJqb2luIiwiRGF0YUJhc2UiLCJkYiIsIm9wZW5SZXF1ZXN0IiwiZGF0YUFsbFBlcnNvbnMiLCJpbmRleGVkREIiLCJvcGVuIiwib251cGdyYWRlbmVlZGVkIiwiZSIsInRoaXNEQiIsInRhcmdldCIsInJlc3VsdCIsIm9iamVjdFN0b3JlTmFtZXMiLCJjb250YWlucyIsImNyZWF0ZU9iamVjdFN0b3JlIiwib25zdWNjZXNzIiwiZXZlbnQiLCJnZXRBbGxQZXJzb25zIiwib25lcnJvciIsImNvbnNvbGUiLCJsb2ciLCJhZGRQZXJzb24iLCJwZXJzb24iLCJyZXF1ZXN0IiwidHJhbnNhY3Rpb24iLCJvYmplY3RTdG9yZSIsImVtYWlsIiwiYXJyRGF0YSIsImN1cnNvcl8xIiwib3BlbkN1cnNvciIsInJlcyIsInB1c2giLCJjb250aW51ZSIsInVwRGF0ZVBlcnNvbiIsImN1cnNvcl8yIiwicmVzMSIsInVwZGF0ZSIsImJhc2VfY29tcG9uZW50XzEiLCJ0aW1lcl8xIiwiR2FtZVBhZ2UiLCJwcm9wcyIsInRpbWVyIiwiZGlmZmljdWx0eSIsImNyZWF0ZUdhbWUiLCJjcmVhdGVGZWlsZEdhbWUiLCJmZWlsZCIsImNyZWF0ZUNhcmRzIiwiY2FyZHNDb250YWluZXIiLCJjb250ZW50IiwicHJvcCIsImNyZWF0ZUNhcmQiLCJpbWciLCJjcmVhdGVIVE1MRWxlbWVudFRpbWVyIiwidG9Sb3RhdGVDYXJkIiwidG9nZ2xlIiwidG9Sb3RhdGVBbGxjYXJkcyIsImdldFJlc3VsdFNlbGVjdENhcmRzIiwiYXJyU2VsZWN0ZWQiLCJmb3JFYWNoIiwiSGVhZGVyIiwiY3JlYXRlQ29udGFpbmVyIiwibG9nbyIsImNyZWF0ZUxvZ28iLCJtZW51IiwiY3JlYXRlTWVudSIsIm5hbWUiLCJidXR0b24iLCJjcmVhdGVCdXR0b24iLCJnZXRIZWFkZXIiLCJ0b1BsYWNlRWxlbWVudHMiLCJidXR0b25GZWlsZCIsImJ1dHRvblN0YXJ0R2FtZSIsImJ1dHRvblJlZ2lzdHJhdGlvbiIsIndyYXAiLCJSZWdpc3RyYXRpb25Gb3JtIiwiYmFja2dyb3VuZEZvbiIsIm1vZGFsUmVnaXN0cmF0aW9uQmxvY2siLCJtb2RhbFdpbkJsb2NrIiwidGl0bGVXaW5CbG9jayIsIm1vZGFsV2luZG93IiwiYnVpbGRNb2RhbCIsInNjb3JlIiwiY3JlYXRlSW5wdXRGb3JtIiwiY3JlYXRlUmVnaXN0cmF0aW9uQmxvY2siLCJjcmVhdGVXaW5CbG9jayIsInByZXBlbmQiLCJvcGVuTW9kYWxSZWdpc3RyYXRpb24iLCJjbG9zZU1vZGFsUmVnaXN0cmF0aW9uIiwicmVtb3ZlIiwib3Blbk1vZGFsV2luIiwiY2xvc2VNb2RhbFdpbiIsIlNjb3JlUGFnZSIsImNyZWF0ZVRpdHRsZSIsImNyZWF0ZUxpc3RTY29yZSIsInRpdGxlIiwidWwiLCJsaXN0Iiwic2xpY2UiLCJzb3J0IiwiYSIsInJldmVyc2UiLCJzcGxpY2UiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsIlNldHRpbmdzUGFnZSIsInR5cGVDYXJkcyIsInRpdGxlRGlmZmljdWx0eSIsImZvcm1EaWZmaWN1bHR5IiwidGl0bGVUeXBlQ2FyZHMiLCJmb3JtVHlwZUNhcmRzIiwiY3JldGVEaWZmaWN1bHR5QmxvY2siLCJjcmVhdGVUeXBlQ2FyZHNCbG9jayIsImxhYmVsIiwiaW5wdXQiLCJzZXRBdHRyaWJ1dGUiLCJhZGRFdmVudExpc3RlbmVyIiwiZ2V0VmFsdWVEaWZmaWN1bHR5IiwiZ2V0VHlwZUNhcmRzIiwiVGltZXIiLCJ2YWx1ZVRpbWVyIiwibWludXRlcyIsInNlY29uZHMiLCJ0aW1lckZlaWxkIiwidGltZXJIVE1MIiwiY2xhc3NOYW1lIiwic2hvd1RpbWVyVmFsdWUiLCJtaW4iLCJzZWMiLCJzdGFydFRpbWVyIiwic3RhcnRUaW1lckludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJNYXRoIiwiZmxvb3IiLCJzdG9wVGltZXIiLCJjbGVhckludGVydmFsIiwibXZjXzEiLCJ3aW5kb3ciLCJvbmxvYWQiLCJhcHAiLCJib2R5IiwiX19hd2FpdGVyIiwidGhpc0FyZyIsIl9hcmd1bWVudHMiLCJQIiwiZ2VuZXJhdG9yIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJzdGVwIiwibmV4dCIsInJlamVjdGVkIiwiZG9uZSIsInRoZW4iLCJfX2dlbmVyYXRvciIsImYiLCJ5IiwidCIsImciLCJfIiwic2VudCIsInRyeXMiLCJvcHMiLCJ2ZXJiIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJuIiwidiIsIm9wIiwicG9wIiwiaGVhZGVyXzEiLCJhYm91dF8xIiwic2NvcmVfMSIsInNldHRpbmdzXzEiLCJyZWdpc3RyYXRpb25fZm9ybV8xIiwiZ2FtZV8xIiwiZGF0YV9iYXNlXzEiLCJWaWV3IiwibW9kYWxGZWlsZCIsIk1vZGFsV2luZG93IiwiaGVhZGVyIiwiU2V0dGluZ3MiLCJHYW1lIiwiaW5pdCIsImJlZm9yZSIsInNob3dGaXJzdFBhZ2UiLCJvcGVuU2VsZWN0ZWRQYWdlIiwiaXRlbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJzaG93UGFnZSIsIm9wZW5TY29yZVBhZ2UiLCJzaG93TW9kYWxXaW5kb3ciLCJ3aW4iLCJoaWRkZW5Nb2RhbFdpbmRvdyIsIm1vZGFsIiwicXVlcnlTZWxlY3RvciIsImlucHV0cyIsImlucCIsIm5leHRFbGVtZW50U2libGluZyIsInNob3dTdGFydEdhbWVCdXR0b24iLCJyZWdCdG4iLCJzdGFydEJ0biIsInNob3dTdGFydFN0b3BHYW1lQnV0dG9uIiwibmFtZUJ0biIsInN0YXJ0R2FtZSIsImZpcnN0RWxlbWVudENoaWxkIiwic2hvd0F2YXRhck5hbWUiLCJzaG93U3RhdHVzSW5wdXQiLCJzdGF0dXMiLCJfYiIsInNob3dTdHlsZXNkQWRkQnV0dG9uIiwiYnV0dG9uQWRkIiwic2hvd0dhbWVQYWdlIiwibGFzdEVsZW1lbnRDaGlsZCIsInJlcGxhY2VXaXRoIiwic2hvd1JvdGF0ZSIsImNhcmQiLCJzaG93UmVzdWx0U2VsZWN0IiwiYXJyU2VsZWN0Iiwicm90YXRlQWxsQ2FyZHMiLCJzaG93U3RhcnRUaW1lciIsInNob3dTdG9wVGltZXIiLCJNb2RlbCIsInZpZXciLCJyZWdEYXRhIiwiYXJyRWxlbWVudHNQcmVzc2VkIiwiaW1hZ2VzRm9yR2FtZSIsInNldHRpbmdEYXRhIiwiaXRlbXNGb3JTY29yZSIsImFtb3VudEFsbENhcmRzIiwiYW1vdW50T3BlbmVkQ2FyZHMiLCJhbW91bnRBbGxDb21wYXJlQ2FyZHMiLCJhbW91bnRGYXRhbENvbXBhcmVDYXJkcyIsImRhdGFCYXNlIiwiZ2V0RGF0YVNldHRpbmdzIiwiZ2V0TG9hZEZpcnN0UGFnZSIsInNlbGVjdE1lbnUiLCJnZXRTdG9wR2FtZSIsImNsb3NlTW9kYWxXaW5kb3ciLCJkZWxldGVEYXRhIiwiZ2V0U3RhdHVzRGlzYWJsZWRCdXR0b24iLCJvcGVuTW9kYWxXaW5kb3ciLCJjaGVja1ZhbHVlSW5wdXQiLCJ0ZXN0IiwiY2hlY2tWYWx1ZURhdGEiLCJjaGVja1JlZ2lzdHJhdGlvbkRhdGEiLCJnZXRTdGFydEdhbWUiLCJnZXRQcm9wc0ZvckdhbWUiLCJzZXRUaW1lb3V0IiwiY2hlY2tJbkRhdGFCYXNlUGVyc29uIiwiaW5EYXRhQmFzZSIsImRhdGEiLCJmZXRjaCIsImpzb24iLCJ0eXBlIiwiaW1hZ2VzIiwicmVkdWNlIiwiYWNjIiwidmFsIiwiY29uY2F0IiwicmFuZG9tIiwidG9GaWxsYXJyRWxlbWVudHNQcmVzc2VkIiwiY2hlY2tFbGVtZW50c1ByZXNzZWQiLCJkYXRhc2V0IiwiQ29udHJvbGxlciIsIm1vZGVsIiwiYWRkQnRuIiwid2luQnRuIiwiY2FuY2VsQnRuIiwibWVudUJ1dHRvbnMiLCJjbGlja0FkZEJ0bk1vZGFsIiwiY2xpY2tTdG9wR2FtZSIsImNsaWNrU3RhcnRHYW1lIiwiY2xpY2tDYW5jZWxCdG5Nb2RhbCIsImNsaWNrV2luQnRuTW9kYWwiLCJnZXRQYXJhbWV0cnNJbnB1dCIsImNsaWNrTWVudUJ1dHRvbiIsImNsaWNrTmV3UGxheWVyQnRuIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsInIiLCJ0b1N0cmluZ1RhZyJdLCJtYXBwaW5ncyI6IitMQUNBQSxPQUFPQyxlQUFlQyxFQUFTLGFBQWMsQ0FBRUMsT0FBTyxJQUN0RCxJQUFJQyxFQUErQixXQUMvQixTQUFTQSxLQWNULE9BWkFBLEVBQWNDLFVBQVVDLGNBQWdCLFNBQVVDLEVBQUtDLEVBQVlDLEdBQy9ELElBQUlDLEVBQ0FDLEVBQVVDLFNBQVNOLGNBQWNDLEdBUXJDLE9BUElDLEVBQVdLLFNBQ1ZILEVBQUtDLEVBQVFHLFdBQVdDLElBQUlDLE1BQU1OLEVBQUlGLEdBR3ZDQyxJQUNBRSxFQUFRRixHQUFLQSxHQUVWRSxHQUVKUCxFQWZ1QixHQWlCbENGLEVBQVFlLFFBQVViLEcsb0JDbEJsQixJQUNRYyxFQURKQyxFQUFhQyxNQUFRQSxLQUFLRCxZQUN0QkQsRUFBZ0IsU0FBVUcsRUFBR0MsR0FJN0IsT0FIQUosRUFBZ0JsQixPQUFPdUIsZ0JBQ2xCLENBQUVDLFVBQVcsY0FBZ0JDLE9BQVMsU0FBVUosRUFBR0MsR0FBS0QsRUFBRUcsVUFBWUYsSUFDdkUsU0FBVUQsRUFBR0MsR0FBSyxJQUFLLElBQUlJLEtBQUtKLEVBQU90QixPQUFPSyxVQUFVc0IsZUFBZUMsS0FBS04sRUFBR0ksS0FBSUwsRUFBRUssR0FBS0osRUFBRUksTUFDM0VMLEVBQUdDLElBRXJCLFNBQVVELEVBQUdDLEdBQ2hCLEdBQWlCLG1CQUFOQSxHQUEwQixPQUFOQSxF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cUcsRUFBS2pRLFVBQVVzRCxTQUFTLFdBQ3hCN0IsRUFBTXlSLE1BQU1wTixhQUFhbUssVUFLekNnRCxFQUFXMVQsVUFBVWlVLGNBQWdCLFdBQ2pDbFQsS0FBSzRTLE1BQU01QixlQUVSMkIsRUFyRm9CLEdBeUZkLENBQWU5SCxFQURwQixJQUFJb0YsRUFETCxJQUFJN0MsRUFBS3ZDLFFDcGRwQjRJLEVBQTJCLEdBRy9CLFNBQVNDLEVBQW9CQyxHQUU1QixJQUFJQyxFQUFlSCxFQUF5QkUsR0FDNUMsUUFBcUJFLElBQWpCRCxFQUNILE9BQU9BLEVBQWE5VSxRQUdyQixJQUFJZ1YsRUFBU0wsRUFBeUJFLEdBQVksQ0FHakQ3VSxRQUFTLElBT1YsT0FIQWlWLEVBQW9CSixHQUFVblQsS0FBS3NULEVBQU9oVixRQUFTZ1YsRUFBUUEsRUFBT2hWLFFBQVM0VSxHQUdwRUksRUFBT2hWLFFDcEJmNFUsRUFBb0JNLEVBQUtsVixJQUNILG9CQUFYeU4sUUFBMEJBLE9BQU8wSCxhQUMxQ3JWLE9BQU9DLGVBQWVDLEVBQVN5TixPQUFPMEgsWUFBYSxDQUFFbFYsTUFBTyxXQUU3REgsT0FBT0MsZUFBZUMsRUFBUyxhQUFjLENBQUVDLE9BQU8sS0NGN0IyVSxFQUFvQixNIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBCYXNlQ29tcG9uZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQmFzZUNvbXBvbmVudCgpIHtcclxuICAgIH1cclxuICAgIEJhc2VDb21wb25lbnQucHJvdG90eXBlLmNyZWF0ZUVsZW1lbnQgPSBmdW5jdGlvbiAodGVnLCBjbGFzc1N0eWxlLCBpZCkge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGVnKTtcclxuICAgICAgICBpZiAoY2xhc3NTdHlsZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgKF9hID0gZWxlbWVudC5jbGFzc0xpc3QpLmFkZC5hcHBseShfYSwgY2xhc3NTdHlsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIDtcclxuICAgICAgICBpZiAoaWQpIHtcclxuICAgICAgICAgICAgZWxlbWVudC5pZCA9IGlkO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZWxlbWVudDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQmFzZUNvbXBvbmVudDtcclxufSgpKTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gQmFzZUNvbXBvbmVudDtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xyXG59O1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnJlcXVpcmUoXCIuL2Fib3V0LmNzc1wiKTtcclxudmFyIGJhc2VfY29tcG9uZW50XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4uLy4uL2Jhc2UtY29tcG9uZW50XCIpKTtcclxudmFyIEFib3V0UGFnZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhBYm91dFBhZ2UsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBBYm91dFBhZ2UoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5kYXRlID0gW1xyXG4gICAgICAgICAgICB7IHBvaW50OiAnMScsIHRleHQ6ICdSZWdpc3RlciBuZXcgcGxheWVyIGluIGdhbWUnLCBjbGFzczogJ2ltYWdlMScgfSxcclxuICAgICAgICAgICAgeyBwb2ludDogJzInLCB0ZXh0OiAnQ29uZmlndXJlIHlvdXIgZ2FtZSBzZXR0aW5ncycsIGNsYXNzOiAnaW1hZ2UyJyB9LFxyXG4gICAgICAgICAgICB7IHBvaW50OiAnMycsIHRleHQ6ICdTdGFydCB5b3UgbmV3IGdhbWUhIFJlbWVtYmVyIGNhcmQgcG9zaXRpb25zIGFuZCBtYXRjaCBpdCBiZWZvcmUgdGltZXMgdXAuJywgY2xhc3M6ICdpbWFnZTMnIH0sXHJcbiAgICAgICAgXTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBBYm91dFBhZ2UucHJvdG90eXBlLmdldFBhZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlTWFpbigpO1xyXG4gICAgfTtcclxuICAgIEFib3V0UGFnZS5wcm90b3R5cGUuY3JlYXRlTWFpbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgbWFpbiA9IHRoaXMuY3JlYXRlRWxlbWVudCgnbWFpbicsIFsnbWFpbiddLCAnJyk7XHJcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMuY3JlYXRlRWxlbWVudCgnZGl2JywgWydjb250YWluZXInLCAnbWFpbi1jb250YWluZXInXSwgJycpO1xyXG4gICAgICAgIHZhciB3cmFwQ29udGVudCA9IHRoaXMuY3JlYXRlRWxlbWVudCgnZGl2JywgWyd3cmFwLWNvbnRlbnQnXSwgJycpO1xyXG4gICAgICAgIHdyYXBDb250ZW50LmlubmVySFRNTCA9IHRoaXMuY3JlYXRlQ29udGVudCh0aGlzLmRhdGUpO1xyXG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmQod3JhcENvbnRlbnQpO1xyXG4gICAgICAgIG1haW4uYXBwZW5kKGNvbnRhaW5lcik7XHJcbiAgICAgICAgcmV0dXJuIG1haW47XHJcbiAgICB9O1xyXG4gICAgQWJvdXRQYWdlLnByb3RvdHlwZS5jcmVhdGVDb250ZW50ID0gZnVuY3Rpb24gKGFycikge1xyXG4gICAgICAgIHZhciBjb250ZW50ID0gXCI8aDIgY2xhc3M9XFxcImNvbnRlbnQtdGl0bGVcXFwiPkhvdyB0byBwbGF5PzwvaDI+XCI7XHJcbiAgICAgICAgdmFyIHJvdyA9IGFyci5tYXAoZnVuY3Rpb24gKGVsZW0pIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwiXFxuICAgICAgPGRpdiBjbGFzcz1cXFwiY29udGVudC1mZWlsZFxcXCI+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb250ZW50LXJvd1xcXCI+XFxuICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbnRlbnQtcm93X19sZWZ0XFxcIj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJwb2ludFxcXCI+XFxuICAgICAgICAgICAgICA8cD5cIiArIGVsZW0ucG9pbnQgKyBcIjwvcD5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8cD5cIiArIGVsZW0udGV4dCArIFwiPC9wPlxcbiAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29udGVudC1yb3dfX3JpZ2h0IFwiICsgZWxlbS5jbGFzcyArIFwiXFxcIj48L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgIDwvZGl2PlxcbiAgICAgIFwiO1xyXG4gICAgICAgIH0pLmpvaW4oJycpO1xyXG4gICAgICAgIHJldHVybiBjb250ZW50ICsgcm93O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBBYm91dFBhZ2U7XHJcbn0oYmFzZV9jb21wb25lbnRfMS5kZWZhdWx0KSk7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IEFib3V0UGFnZTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIERhdGFCYXNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gRGF0YUJhc2UoKSB7XHJcbiAgICAgICAgdGhpcy5kYjtcclxuICAgICAgICB0aGlzLm9wZW5SZXF1ZXN0KCk7XHJcbiAgICAgICAgdGhpcy5kYXRhQWxsUGVyc29ucyA9IFtdO1xyXG4gICAgfVxyXG4gICAgRGF0YUJhc2UucHJvdG90eXBlLm9wZW5SZXF1ZXN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIG9wZW5SZXF1ZXN0ID0gaW5kZXhlZERCLm9wZW4oJ0xlbmtvLUlnb3InLCAxKTtcclxuICAgICAgICBvcGVuUmVxdWVzdC5vbnVwZ3JhZGVuZWVkZWQgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICB2YXIgZXZlbnQgPSBlLnRhcmdldDtcclxuICAgICAgICAgICAgdmFyIHRoaXNEQiA9IGV2ZW50LnJlc3VsdDtcclxuICAgICAgICAgICAgaWYgKCF0aGlzREIub2JqZWN0U3RvcmVOYW1lcy5jb250YWlucygncGVvcGxlJykpIHtcclxuICAgICAgICAgICAgICAgIHRoaXNEQi5jcmVhdGVPYmplY3RTdG9yZSgncGVvcGxlJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIG9wZW5SZXF1ZXN0Lm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHZhciBldmVudCA9IGUudGFyZ2V0O1xyXG4gICAgICAgICAgICBfdGhpcy5kYiA9IGV2ZW50LnJlc3VsdDtcclxuICAgICAgICAgICAgX3RoaXMuZ2V0QWxsUGVyc29ucygpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgb3BlblJlcXVlc3Qub25lcnJvciA9IGZ1bmN0aW9uIChlKSB7IHJldHVybiBjb25zb2xlLmxvZyhcIkVycm9yOlwiLCBlKTsgfTtcclxuICAgIH07XHJcbiAgICBEYXRhQmFzZS5wcm90b3R5cGUuYWRkUGVyc29uID0gZnVuY3Rpb24gKHBlcnNvbikge1xyXG4gICAgICAgIGlmICh0aGlzLmRiKSB7XHJcbiAgICAgICAgICAgIHZhciB0cmFuc2FjdGlvbiA9IHRoaXMuZGIudHJhbnNhY3Rpb24oWydwZW9wbGUnXSwgJ3JlYWR3cml0ZScpO1xyXG4gICAgICAgICAgICB2YXIgc3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZSgncGVvcGxlJyk7XHJcbiAgICAgICAgICAgIHZhciByZXF1ZXN0ID0gc3RvcmUuYWRkKHBlcnNvbiwgcGVyc29uLmVtYWlsKTtcclxuICAgICAgICAgICAgcmVxdWVzdC5vbmVycm9yID0gZnVuY3Rpb24gKGUpIHsgY29uc29sZS5sb2coJ2Vycm9yJywgZSk7IH07XHJcbiAgICAgICAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHsgY29uc29sZS5sb2coJ2l0IGlzIGdvb2QnKTsgfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgRGF0YUJhc2UucHJvdG90eXBlLmdldEFsbFBlcnNvbnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgYXJyRGF0YSA9IFtdO1xyXG4gICAgICAgIGlmICh0aGlzLmRiKSB7XHJcbiAgICAgICAgICAgIHZhciB0cmFuc2FjdGlvbiA9IHRoaXMuZGIudHJhbnNhY3Rpb24oWydwZW9wbGUnXSwgJ3JlYWR3cml0ZScpO1xyXG4gICAgICAgICAgICB2YXIgb2JqZWN0U3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZSgncGVvcGxlJyk7XHJcbiAgICAgICAgICAgIHZhciBjdXJzb3JfMSA9IG9iamVjdFN0b3JlLm9wZW5DdXJzb3IoKTtcclxuICAgICAgICAgICAgY3Vyc29yXzEub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXMgPSBjdXJzb3JfMS5yZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJyRGF0YS5wdXNoKHJlcy52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLmNvbnRpbnVlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5kYXRhQWxsUGVyc29ucyA9IGFyckRhdGE7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIERhdGFCYXNlLnByb3RvdHlwZS51cERhdGVQZXJzb24gPSBmdW5jdGlvbiAocGVyc29uKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZGIpIHtcclxuICAgICAgICAgICAgdmFyIHRyYW5zYWN0aW9uID0gdGhpcy5kYi50cmFuc2FjdGlvbihbJ3Blb3BsZSddLCAncmVhZHdyaXRlJyk7XHJcbiAgICAgICAgICAgIHZhciBvYmplY3RTdG9yZSA9IHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKCdwZW9wbGUnKTtcclxuICAgICAgICAgICAgdmFyIGN1cnNvcl8yID0gb2JqZWN0U3RvcmUub3BlbkN1cnNvcigpO1xyXG4gICAgICAgICAgICBjdXJzb3JfMi5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlcyA9IGN1cnNvcl8yLnJlc3VsdDtcclxuICAgICAgICAgICAgICAgIGlmIChyZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzLnZhbHVlLmVtYWlsID09PSBwZXJzb24uZW1haWwpIHsgLy93ZSBmaW5kIGJ5IGlkIGFuIHVzZXIgd2Ugd2FudCB0byB1cGRhdGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlczEgPSByZXMudXBkYXRlKHBlcnNvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlczEub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwidXBkYXRlIHN1Y2Nlc3MhIVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzMS5vbmVycm9yID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwidXBkYXRlIGZhaWxlZCEhXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXMuY29udGludWUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIERhdGFCYXNlO1xyXG59KCkpO1xyXG5leHBvcnRzLmRlZmF1bHQgPSBEYXRhQmFzZTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xyXG59O1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnJlcXVpcmUoXCIuL2dhbWUuY3NzXCIpO1xyXG52YXIgYmFzZV9jb21wb25lbnRfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi4vLi4vYmFzZS1jb21wb25lbnRcIikpO1xyXG52YXIgdGltZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi8uLi90aW1lci90aW1lclwiKSk7XHJcbnZhciBHYW1lUGFnZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhHYW1lUGFnZSwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIEdhbWVQYWdlKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMucHJvcHMgPSBbXTtcclxuICAgICAgICBfdGhpcy50aW1lciA9IG5ldyB0aW1lcl8xLmRlZmF1bHQoKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBHYW1lUGFnZS5wcm90b3R5cGUuZ2V0UGFnZSA9IGZ1bmN0aW9uIChwcm9wcywgZGlmZmljdWx0eSkge1xyXG4gICAgICAgIHRoaXMucHJvcHMgPSBwcm9wcztcclxuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVHYW1lKGRpZmZpY3VsdHkpO1xyXG4gICAgfTtcclxuICAgIEdhbWVQYWdlLnByb3RvdHlwZS5jcmVhdGVGZWlsZEdhbWUgPSBmdW5jdGlvbiAoZGlmZmljdWx0eSkge1xyXG4gICAgICAgIHZhciBmZWlsZCA9IHRoaXMuY3JlYXRlRWxlbWVudCgnZGl2JywgWydjYXJkcy1mZWlsZCddLCAnJyk7XHJcbiAgICAgICAgZmVpbGQuYXBwZW5kKHRoaXMuY3JlYXRlQ2FyZHMoZGlmZmljdWx0eSkpO1xyXG4gICAgICAgIHJldHVybiBmZWlsZDtcclxuICAgIH07XHJcbiAgICBHYW1lUGFnZS5wcm90b3R5cGUuY3JlYXRlQ2FyZHMgPSBmdW5jdGlvbiAoZGlmZmljdWx0eSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGNhcmRzQ29udGFpbmVyID0gdGhpcy5jcmVhdGVFbGVtZW50KCdkaXYnLCBbJ2NhcmQtY29udGFpbmVyJywgZGlmZmljdWx0eV0sICcnKTtcclxuICAgICAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xyXG4gICAgICAgIHZhciBjb250ZW50ID0gcHJvcHMubWFwKGZ1bmN0aW9uIChwcm9wKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5jcmVhdGVDYXJkKHByb3ApO1xyXG4gICAgICAgIH0pLmpvaW4oJycpO1xyXG4gICAgICAgIGNhcmRzQ29udGFpbmVyLmlubmVySFRNTCA9IGNvbnRlbnQ7XHJcbiAgICAgICAgcmV0dXJuIGNhcmRzQ29udGFpbmVyO1xyXG4gICAgfTtcclxuICAgIEdhbWVQYWdlLnByb3RvdHlwZS5jcmVhdGVDYXJkID0gZnVuY3Rpb24gKGltZykge1xyXG4gICAgICAgIHJldHVybiBcIlxcbiAgICA8ZGl2IHN0eWxlPVxcXCJwZXJzcGVjdGl2ZTogMjVyZW1cXFwiPlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImNhcmQtd3JhcFxcXCIgZGF0YS12YWx1ZT1cIiArIGltZyArIFwiPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiY2FyZCBiYWNrXFxcIj48L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImNhcmQgZnJvbnRcXFwiIFxcbiAgICAgICAgICAgIHN0eWxlPVxcXCJiYWNrZ3JvdW5kOiB1cmwoJy4uL3NyYy9pbWFnZXMvZ2FtZS9cIiArIGltZyArIFwiJykgbm8tcmVwZWF0IGNlbnRlcjtcXG4gICAgICAgICAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xcXCI+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuICAgIFwiO1xyXG4gICAgfTtcclxuICAgIEdhbWVQYWdlLnByb3RvdHlwZS5jcmVhdGVHYW1lID0gZnVuY3Rpb24gKGRpZmZpY3VsdHkpIHtcclxuICAgICAgICB2YXIgbWFpbiA9IHRoaXMuY3JlYXRlRWxlbWVudCgnbWFpbicsIFsnbWFpbiddLCAnJyk7XHJcbiAgICAgICAgdmFyIHdyYXBDb250ZW50ID0gdGhpcy5jcmVhdGVFbGVtZW50KCdkaXYnLCBbJ3dyYXAtY29udGVudCddLCAnJyk7XHJcbiAgICAgICAgd3JhcENvbnRlbnQuYXBwZW5kKHRoaXMudGltZXIuY3JlYXRlSFRNTEVsZW1lbnRUaW1lcigpKTtcclxuICAgICAgICB3cmFwQ29udGVudC5hcHBlbmQodGhpcy5jcmVhdGVGZWlsZEdhbWUoZGlmZmljdWx0eSkpO1xyXG4gICAgICAgIG1haW4uYXBwZW5kKHdyYXBDb250ZW50KTtcclxuICAgICAgICByZXR1cm4gbWFpbjtcclxuICAgIH07XHJcbiAgICBHYW1lUGFnZS5wcm90b3R5cGUudG9Sb3RhdGVDYXJkID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICAgICAgICBpZiAoZWxlbWVudCA9PT0gbnVsbCB8fCBlbGVtZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygncm90YXRlJykpIHtcclxuICAgICAgICAgICAgZWxlbWVudCA9PT0gbnVsbCB8fCBlbGVtZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoJ3JvdGF0ZScpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBHYW1lUGFnZS5wcm90b3R5cGUudG9Sb3RhdGVBbGxjYXJkcyA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgZWxlbWVudCA9PT0gbnVsbCB8fCBlbGVtZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoJ3JvdGF0ZScpO1xyXG4gICAgfTtcclxuICAgIEdhbWVQYWdlLnByb3RvdHlwZS5nZXRSZXN1bHRTZWxlY3RDYXJkcyA9IGZ1bmN0aW9uIChhcnJTZWxlY3RlZCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgYXJyU2VsZWN0ZWQuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICBfdGhpcy50b1JvdGF0ZUFsbGNhcmRzKGVsZW1lbnQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBHYW1lUGFnZTtcclxufShiYXNlX2NvbXBvbmVudF8xLmRlZmF1bHQpKTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gR2FtZVBhZ2U7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcclxufTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5yZXF1aXJlKFwiLi9oZWFkZXIuY3NzXCIpO1xyXG52YXIgYmFzZV9jb21wb25lbnRfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi4vLi4vYmFzZS1jb21wb25lbnRcIikpO1xyXG52YXIgSGVhZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKEhlYWRlciwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIEhlYWRlcigpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmZlaWxkID0gX3RoaXMuY3JlYXRlRWxlbWVudCgnaGVhZGVyJywgWydoZWFkZXInXSwgJycpO1xyXG4gICAgICAgIF90aGlzLmNvbnRhaW5lciA9IF90aGlzLmNyZWF0ZUNvbnRhaW5lcigpO1xyXG4gICAgICAgIF90aGlzLmxvZ28gPSBfdGhpcy5jcmVhdGVMb2dvKCk7XHJcbiAgICAgICAgX3RoaXMubWVudSA9IF90aGlzLmNyZWF0ZU1lbnUoKTtcclxuICAgICAgICBfdGhpcy5uYW1lID0gX3RoaXMuY3JlYXRlRWxlbWVudCgncCcsIFsnZmlyc3QtbmFtZScsICdoaWRkZW4nXSwgJ2ZpcnN0TmFtZScpO1xyXG4gICAgICAgIF90aGlzLmJ1dHRvbiA9IF90aGlzLmNyZWF0ZUJ1dHRvbigpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIEhlYWRlci5wcm90b3R5cGUuZ2V0SGVhZGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMudG9QbGFjZUVsZW1lbnRzKHRoaXMuY29udGFpbmVyLCBbdGhpcy5sb2dvLCB0aGlzLm1lbnUsIHRoaXMuYnV0dG9uXSk7XHJcbiAgICAgICAgdGhpcy50b1BsYWNlRWxlbWVudHModGhpcy5mZWlsZCwgW3RoaXMuY29udGFpbmVyXSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZmVpbGQ7XHJcbiAgICB9O1xyXG4gICAgSGVhZGVyLnByb3RvdHlwZS5jcmVhdGVDb250YWluZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlRWxlbWVudCgnZGl2JywgWydjb250YWluZXInLCAnaGVhZGVyLWNvbnRhaW5lciddLCAnJyk7XHJcbiAgICB9O1xyXG4gICAgSGVhZGVyLnByb3RvdHlwZS5jcmVhdGVMb2dvID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBsb2dvID0gdGhpcy5jcmVhdGVFbGVtZW50KCdkaXYnLCBbJ2hlYWRlci1sb2dvJ10sICcnKTtcclxuICAgICAgICBsb2dvLmlubmVySFRNTCA9IFwiXFxuICAgICAgPGRpdiBjbGFzcz1cXFwibG9nby11cFxcXCI+XFxuICAgICAgICA8cCBjbGFzcz1cXFwibG9nby10ZXh0XFxcIj5NQVRDSDwvcD5cXG4gICAgICA8L2Rpdj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJsb2dvLWRvd25cXFwiPlxcbiAgICAgICAgPHAgY2xhc3M9XFxcImxvZ28tdGV4dFxcXCI+TUFUQ0g8L3A+XFxuICAgICAgPC9kaXY+XFxuICAgIFwiO1xyXG4gICAgICAgIHJldHVybiBsb2dvO1xyXG4gICAgfTtcclxuICAgIEhlYWRlci5wcm90b3R5cGUuY3JlYXRlTWVudSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgbWVudSA9IHRoaXMuY3JlYXRlRWxlbWVudCgnbWVudScsIFsnbWVudSddLCAnJyk7XHJcbiAgICAgICAgbWVudS5pbm5lckhUTUwgPSBcIlxcbiAgICAgIDx1bCBjbGFzcz1cXFwiaGVhZGVyLW1lbnVfX2l0ZW1zXFxcIj5cXG4gICAgICAgIDxsaSBjbGFzcz1cXFwiaGVhZGVyLW1lbnVfX2l0ZW0gaXRlbS1hYm91dCBpdGVtLXNlbGVjdFxcXCI+XFxuICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImhlYWRlci1tZW51X19pbWdcXFwiPjxwPj88L3A+PC9kaXY+XFxuICAgICAgICAgIDxwIGNsYXNzPVxcXCJoZWFkZXItbWVudV9fdGV4dFxcXCI+QWJvdXQgR2FtZTwvcD4gIFxcbiAgICAgICAgPC9saT5cXG4gICAgICAgIDxsaSBjbGFzcz1cXFwiaGVhZGVyLW1lbnVfX2l0ZW0gaXRlbS1zY29yZVxcXCI+XFxuICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImhlYWRlci1tZW51X19pbWdcXFwiPjwvZGl2PlxcbiAgICAgICAgICA8cCBjbGFzcz1cXFwiaGVhZGVyLW1lbnVfX3RleHRcXFwiPkJlc3QgU2NvcmU8L3A+IFxcbiAgICAgICAgPC9saT5cXG4gICAgICAgIDxsaSBjbGFzcz1cXFwiaGVhZGVyLW1lbnVfX2l0ZW0gaXRlbS1zZXR0aW5nXFxcIj5cXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwiaGVhZGVyLW1lbnVfX2ltZ1xcXCI+PC9kaXY+XFxuICAgICAgICAgIDxwIGNsYXNzPVxcXCJoZWFkZXItbWVudV9fdGV4dFxcXCI+R2FtZSBTZXR0aW5nczwvcD5cXG4gICAgICAgIDwvbGk+XFxuICAgICAgPC91bD5cXG4gICAgXCI7XHJcbiAgICAgICAgcmV0dXJuIG1lbnU7XHJcbiAgICB9O1xyXG4gICAgSGVhZGVyLnByb3RvdHlwZS5jcmVhdGVCdXR0b24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGJ1dHRvbkZlaWxkID0gdGhpcy5jcmVhdGVFbGVtZW50KCdkaXYnLCBbJ2hlYWRlci1idXR0b24tZmVpbGQnXSwgJycpO1xyXG4gICAgICAgIHZhciBidXR0b25TdGFydEdhbWUgPSB0aGlzLmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicsIFsnaGVhZGVyLWJ1dHRvbicsICdoZWFkZXItYnV0dG9uLXN0YXJ0JywgJ2hpZGRlbiddLCAnc3RhcnRHYW1lJyk7XHJcbiAgICAgICAgdmFyIGJ1dHRvblJlZ2lzdHJhdGlvbiA9IHRoaXMuY3JlYXRlRWxlbWVudCgnYnV0dG9uJywgWydoZWFkZXItYnV0dG9uJ10sICdyZWdCdG4nKTtcclxuICAgICAgICBidXR0b25TdGFydEdhbWUuaW5uZXJIVE1MID0gXCJcXG4gICAgICA8cCBjbGFzcz1cXFwiaGVhZGVyLWJ1dHRvbl9fdGV4dFxcXCI+c3RhcnQgZ2FtZTwvcD5cXG4gICAgXCI7XHJcbiAgICAgICAgYnV0dG9uUmVnaXN0cmF0aW9uLmlubmVySFRNTCA9IFwiXFxuICAgICAgPHAgY2xhc3M9XFxcImhlYWRlci1idXR0b25fX3RleHRcXFwiPnJlZ2lzdGVyIG5ldyBwbGF5ZXI8L3A+XFxuICAgIFwiO1xyXG4gICAgICAgIGJ1dHRvbkZlaWxkLmFwcGVuZCh0aGlzLm5hbWUpO1xyXG4gICAgICAgIGJ1dHRvbkZlaWxkLmFwcGVuZChidXR0b25TdGFydEdhbWUpO1xyXG4gICAgICAgIGJ1dHRvbkZlaWxkLmFwcGVuZChidXR0b25SZWdpc3RyYXRpb24pO1xyXG4gICAgICAgIHJldHVybiBidXR0b25GZWlsZDtcclxuICAgIH07XHJcbiAgICBIZWFkZXIucHJvdG90eXBlLnRvUGxhY2VFbGVtZW50cyA9IGZ1bmN0aW9uICh3cmFwLCBhcnIpIHtcclxuICAgICAgICBhcnIuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkgeyByZXR1cm4gd3JhcC5hcHBlbmQoZWxlbWVudCk7IH0pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBIZWFkZXI7XHJcbn0oYmFzZV9jb21wb25lbnRfMS5kZWZhdWx0KSk7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IEhlYWRlcjtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xyXG59O1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnJlcXVpcmUoXCIuL3JlZ2lzdHJhdGlvbi1mb3JtLmNzc1wiKTtcclxudmFyIGJhc2VfY29tcG9uZW50XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4uLy4uL2Jhc2UtY29tcG9uZW50XCIpKTtcclxudmFyIFJlZ2lzdHJhdGlvbkZvcm0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoUmVnaXN0cmF0aW9uRm9ybSwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFJlZ2lzdHJhdGlvbkZvcm0oKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5iYWNrZ3JvdW5kRm9uID0gX3RoaXMuY3JlYXRlRWxlbWVudCgnZGl2JywgWydtb2RhbC1mb24nXSwgJycpO1xyXG4gICAgICAgIF90aGlzLm1vZGFsUmVnaXN0cmF0aW9uQmxvY2sgPSBfdGhpcy5jcmVhdGVFbGVtZW50KCdzZWN0aW9uJywgWydtb2RhbC1yZWdpc3RyYXRpb24tYmxvY2snXSwgJycpO1xyXG4gICAgICAgIF90aGlzLm1vZGFsV2luQmxvY2sgPSBfdGhpcy5jcmVhdGVFbGVtZW50KCdzZWN0aW9uJywgWydtb2RhbC13aW4tYmxvY2snXSwgJycpO1xyXG4gICAgICAgIF90aGlzLnRpdGxlV2luQmxvY2sgPSBfdGhpcy5jcmVhdGVFbGVtZW50KCdoMicsIFsnbW9kYWwtd2luLXRpdGxlJ10sICcnKTtcclxuICAgICAgICBfdGhpcy5tb2RhbFdpbmRvdyA9IF90aGlzLmJ1aWxkTW9kYWwoKTtcclxuICAgICAgICBfdGhpcy5zY29yZSA9IDA7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgUmVnaXN0cmF0aW9uRm9ybS5wcm90b3R5cGUuY3JlYXRlSW5wdXRGb3JtID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBcIlxcbiAgICAgIDxmb3JtIGNsYXNzPVxcXCJtb2RhbC1mb3JtXFxcIj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tYmxvY2tcXFwiPlxcbiAgICAgICAgICA8bGFiZWwgZm9yPVxcXCJmaXJzdE5hbWVcXFwiIGNsYXNzPVxcXCJtb2RhbC1mb3JtX19sYWJlbFxcXCI+Rmlyc3QgTmFtZTwvbGFiZWw+XFxuICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiBjbGFzcz1cXFwibW9kYWwtZm9ybV9faW5wdXRcXFwiIG5hbWU9XFxcImZpcnN0TmFtZVxcXCIgaWQ9XFxcImZpcnN0TmFtZVxcXCIgcmVxdWlyZWQgcGxhY2Vob2xkZXI9XFxcIi4uLlxcXCIgdmFsdWU9XFxcIlxcXCI+ICAgICBcXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ibG9ja19fY2hlY2sgZXJyb3JcXFwiPjwvZGl2PiAgIFxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWJsb2NrXFxcIj5cXG4gICAgICAgICAgPGxhYmVsIGZvcj1cXFwibGFzdE5hbWVcXFwiIGNsYXNzPVxcXCJtb2RhbC1mb3JtX19sYWJlbFxcXCI+TGFzdCBOYW1lPC9sYWJlbD5cXG4gICAgICAgICAgPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGNsYXNzPVxcXCJtb2RhbC1mb3JtX19pbnB1dFxcXCIgbmFtZT1cXFwibGFzdE5hbWVcXFwiIGlkPVxcXCJsYXN0TmFtZVxcXCIgcmVxdWlyZWQgcGxhY2Vob2xkZXI9XFxcIi4uLlxcXCI+ICAgXFxuICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tYmxvY2tfX2NoZWNrIGVycm9yXFxcIj48L2Rpdj4gICAgICBcXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ibG9ja1xcXCI+XFxuICAgICAgICAgIDxsYWJlbCBmb3I9XFxcImVtYWlsXFxcIiBjbGFzcz1cXFwibW9kYWwtZm9ybV9fbGFiZWxcXFwiPkUtbWFpbDwvbGFiZWw+XFxuICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJlbWFpbFxcXCIgY2xhc3M9XFxcIm1vZGFsLWZvcm1fX2lucHV0XFxcIiBuYW1lPVxcXCJlbWFpbFxcXCIgaWQ9XFxcImVtYWlsXFxcIiByZXF1aXJlZCBwbGFjZWhvbGRlcj1cXFwiLi4uXFxcIj4gXFxuICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tYmxvY2tfX2NoZWNrIGVycm9yXFxcIj48L2Rpdj4gICAgICAgIFxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgPC9mb3JtPlxcbiAgICBcIjtcclxuICAgIH07XHJcbiAgICBSZWdpc3RyYXRpb25Gb3JtLnByb3RvdHlwZS5jcmVhdGVSZWdpc3RyYXRpb25CbG9jayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLm1vZGFsUmVnaXN0cmF0aW9uQmxvY2suaW5uZXJIVE1MID0gXCJcXG4gICAgICA8aGVhZGVyIGNsYXNzPVxcXCJtb2RhbC1oZWFkZXJcXFwiPlxcbiAgICAgICAgPGgyPlJlZ2lzdHIgbmV3IFBsYXllcjwvaDI+XFxuICAgICAgPC9oZWFkZXI+XFxuICAgICAgPG1haW4gY2xhc3M9XFxcIm1vZGFsLW1haW5cXFwiPlxcbiAgICAgICAgXCIgKyB0aGlzLmNyZWF0ZUlucHV0Rm9ybSgpICsgXCJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcIm1vZGFsLWF2YXRhclxcXCI+PC9kaXY+XFxuICAgICAgPC9tYWluPlxcbiAgICAgIDxmb290ZXIgY2xhc3M9XFxcIm1vZGFsLWZvb3RlclxcXCI+XFxuICAgICAgICA8YnV0dG9uIGlkPVxcXCJhZGRcXFwiIGNsYXNzPVxcXCJhZGQgZGlzYWJsZWRcXFwiPjxwPmFkZCB1c2VyPC9wPjwvYnV0dG9uPlxcbiAgICAgICAgPGJ1dHRvbiBpZD1cXFwiY2FuY2VsXFxcIiBjbGFzcz1cXFwiY2FuY2VsXFxcIj48cD5jYW5jZWw8L3A+PC9idXR0b24+XFxuICAgICAgPC9mb290ZXI+XFxuICAgIFwiO1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1vZGFsUmVnaXN0cmF0aW9uQmxvY2s7XHJcbiAgICB9O1xyXG4gICAgUmVnaXN0cmF0aW9uRm9ybS5wcm90b3R5cGUuY3JlYXRlV2luQmxvY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5tb2RhbFdpbkJsb2NrLmlubmVySFRNTCA9IFwiXFxuICAgICAgPHAgY2xhc3M9XFxcIndpbi10ZXh0XFxcIj5Db25ncmF0dWxhdGlvbnMhIFlvdSBzdWNjZXNzZnVsbHkgZm91bmQgYWxsIG1hdGNoZXMuPC9wPlxcbiAgICAgIDxidXR0b24gY2xhc3M9XFxcIndpbi1idXR0b25cXFwiIGlkPVxcXCJ3aW5cXFwiPlxcbiAgICAgICAgPHAgY2xhc3M9XFxcIndpbi1idXR0b25fX3RleHRcXFwiPk9LPC9wPlxcbiAgICAgIDwvYnV0dG9uPlxcbiAgICBcIjtcclxuICAgICAgICB0aGlzLm1vZGFsV2luQmxvY2sucHJlcGVuZCh0aGlzLnRpdGxlV2luQmxvY2spO1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1vZGFsV2luQmxvY2s7XHJcbiAgICB9O1xyXG4gICAgUmVnaXN0cmF0aW9uRm9ybS5wcm90b3R5cGUuYnVpbGRNb2RhbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmJhY2tncm91bmRGb24uYXBwZW5kKHRoaXMuY3JlYXRlUmVnaXN0cmF0aW9uQmxvY2soKSk7XHJcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kRm9uLmFwcGVuZCh0aGlzLmNyZWF0ZVdpbkJsb2NrKCkpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmJhY2tncm91bmRGb247XHJcbiAgICB9O1xyXG4gICAgUmVnaXN0cmF0aW9uRm9ybS5wcm90b3R5cGUub3Blbk1vZGFsUmVnaXN0cmF0aW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuYmFja2dyb3VuZEZvbi5jbGFzc0xpc3QuYWRkKCdtb2RhbC1mb25fYWN0aXZlJyk7XHJcbiAgICAgICAgdGhpcy5tb2RhbFJlZ2lzdHJhdGlvbkJsb2NrLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgfTtcclxuICAgIFJlZ2lzdHJhdGlvbkZvcm0ucHJvdG90eXBlLmNsb3NlTW9kYWxSZWdpc3RyYXRpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kRm9uLmNsYXNzTGlzdC5yZW1vdmUoJ21vZGFsLWZvbl9hY3RpdmUnKTtcclxuICAgICAgICB0aGlzLm1vZGFsUmVnaXN0cmF0aW9uQmxvY2suY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICB9O1xyXG4gICAgUmVnaXN0cmF0aW9uRm9ybS5wcm90b3R5cGUub3Blbk1vZGFsV2luID0gZnVuY3Rpb24gKHNjb3JlKSB7XHJcbiAgICAgICAgdGhpcy50aXRsZVdpbkJsb2NrLmlubmVySFRNTCA9IFwiXFxuICAgIFlvdSBzY29yZTogXFxuICAgIDxzcGFuPlwiICsgc2NvcmUgKyBcIjwvc3Bhbj5cXG4gICAgXCI7XHJcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kRm9uLmNsYXNzTGlzdC5hZGQoJ21vZGFsLWZvbl9hY3RpdmUnKTtcclxuICAgICAgICB0aGlzLm1vZGFsV2luQmxvY2suY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICB9O1xyXG4gICAgUmVnaXN0cmF0aW9uRm9ybS5wcm90b3R5cGUuY2xvc2VNb2RhbFdpbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmJhY2tncm91bmRGb24uY2xhc3NMaXN0LnJlbW92ZSgnbW9kYWwtZm9uX2FjdGl2ZScpO1xyXG4gICAgICAgIHRoaXMubW9kYWxXaW5CbG9jay5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gUmVnaXN0cmF0aW9uRm9ybTtcclxufShiYXNlX2NvbXBvbmVudF8xLmRlZmF1bHQpKTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gUmVnaXN0cmF0aW9uRm9ybTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xyXG59O1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnJlcXVpcmUoXCIuL3Njb3JlLmNzc1wiKTtcclxudmFyIGJhc2VfY29tcG9uZW50XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4uLy4uL2Jhc2UtY29tcG9uZW50XCIpKTtcclxudmFyIFNjb3JlUGFnZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhTY29yZVBhZ2UsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBTY29yZVBhZ2UoKSB7XHJcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XHJcbiAgICB9XHJcbiAgICBTY29yZVBhZ2UucHJvdG90eXBlLmdldFBhZ2UgPSBmdW5jdGlvbiAoZGF0YUFsbFBlcnNvbnMpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVNYWluKGRhdGFBbGxQZXJzb25zKTtcclxuICAgIH07XHJcbiAgICBTY29yZVBhZ2UucHJvdG90eXBlLmNyZWF0ZU1haW4gPSBmdW5jdGlvbiAoZGF0YUFsbFBlcnNvbnMpIHtcclxuICAgICAgICB2YXIgbWFpbiA9IHRoaXMuY3JlYXRlRWxlbWVudCgnbWFpbicsIFsnbWFpbiddLCAnJyk7XHJcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMuY3JlYXRlRWxlbWVudCgnZGl2JywgWydjb250YWluZXInLCAnbWFpbi1jb250YWluZXInXSwgJycpO1xyXG4gICAgICAgIHZhciB3cmFwQ29udGVudCA9IHRoaXMuY3JlYXRlRWxlbWVudCgnZGl2JywgWyd3cmFwLWNvbnRlbnQnXSwgJ3dyYXAtc2NvcmUnKTtcclxuICAgICAgICB3cmFwQ29udGVudC5hcHBlbmQodGhpcy5jcmVhdGVUaXR0bGUoKSk7XHJcbiAgICAgICAgd3JhcENvbnRlbnQuYXBwZW5kKHRoaXMuY3JlYXRlTGlzdFNjb3JlKGRhdGFBbGxQZXJzb25zKSk7XHJcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZCh3cmFwQ29udGVudCk7XHJcbiAgICAgICAgbWFpbi5hcHBlbmQoY29udGFpbmVyKTtcclxuICAgICAgICByZXR1cm4gbWFpbjtcclxuICAgIH07XHJcbiAgICBTY29yZVBhZ2UucHJvdG90eXBlLmNyZWF0ZVRpdHRsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdGl0bGUgPSB0aGlzLmNyZWF0ZUVsZW1lbnQoJ2gyJywgWydzY29yZS10aXRsZSddLCAnJyk7XHJcbiAgICAgICAgdGl0bGUuaW5uZXJIVE1MID0gJ0Jlc3QgcGxheWVycyc7XHJcbiAgICAgICAgcmV0dXJuIHRpdGxlO1xyXG4gICAgfTtcclxuICAgIFNjb3JlUGFnZS5wcm90b3R5cGUuY3JlYXRlTGlzdFNjb3JlID0gZnVuY3Rpb24gKGRhdGFBbGxQZXJzb25zKSB7XHJcbiAgICAgICAgdmFyIHVsID0gdGhpcy5jcmVhdGVFbGVtZW50KCd1bCcsIFsnc2NvcmUtbGlzdCddLCAnJyk7XHJcbiAgICAgICAgdmFyIHNvcnRlZCA9IGRhdGFBbGxQZXJzb25zLnNsaWNlKDApLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IDA7XHJcbiAgICAgICAgICAgIGlmIChhLnNjb3JlICYmIGIuc2NvcmUpIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGEuc2NvcmUgLSBiLnNjb3JlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfSkucmV2ZXJzZSgpO1xyXG4gICAgICAgIHZhciBsaXN0ID0gc29ydGVkLnNwbGljZSgwLCAxMCkubWFwKGZ1bmN0aW9uIChwZXJzb24pIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwiXFxuICAgICAgICA8bGkgY2xhc3M9XFxcIml0ZW1cXFwiPlxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJpdGVtX19wZXJzb25cXFwiPlxcbiAgICAgICAgICAgIDxwIGNsYXNzPVxcXCJpdGVtX19wZXJzb24tbmFtZVxcXCI+XCIgKyBwZXJzb24uZmlyc3ROYW1lICsgXCIgXCIgKyBwZXJzb24ubGFzdE5hbWUgKyBcIjwvcD5cXG4gICAgICAgICAgICA8cCBjbGFzcz1cXFwiaXRlbV9fcGVyc29uLWVtYWlsXFxcIj5cIiArIHBlcnNvbi5lbWFpbCArIFwiPC9wPlxcbiAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgPHAgY2xhc3M9XFxcIml0ZW1fX3Njb3JlXFxcIj5TY29yZTogPHNwYW4+XCIgKyBwZXJzb24uc2NvcmUgKyBcIjwvc3Bhbj48L3A+XFxuICAgICAgICA8L2xpPlxcbiAgICAgIFwiO1xyXG4gICAgICAgIH0pLmpvaW4oJycpO1xyXG4gICAgICAgIHVsLmlubmVySFRNTCA9IGxpc3Q7XHJcbiAgICAgICAgcmV0dXJuIHVsO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBTY29yZVBhZ2U7XHJcbn0oYmFzZV9jb21wb25lbnRfMS5kZWZhdWx0KSk7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IFNjb3JlUGFnZTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xyXG59O1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnJlcXVpcmUoXCIuL3NldHRpbmdzLmNzc1wiKTtcclxudmFyIGJhc2VfY29tcG9uZW50XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4uLy4uL2Jhc2UtY29tcG9uZW50XCIpKTtcclxudmFyIFNldHRpbmdzUGFnZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhTZXR0aW5nc1BhZ2UsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBTZXR0aW5nc1BhZ2UoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5kaWZmaWN1bHR5ID0gJ2Vhc3knO1xyXG4gICAgICAgIF90aGlzLnR5cGVDYXJkcyA9ICdhdXRvJztcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBTZXR0aW5nc1BhZ2UucHJvdG90eXBlLmdldFBhZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlTWFpbigpO1xyXG4gICAgfTtcclxuICAgIFNldHRpbmdzUGFnZS5wcm90b3R5cGUuY3JlYXRlTWFpbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBwcm9wc0RpZmZpY3VsdHkgPSBbJ2Vhc3knLCAnbWlkZGxlJywgJ2RpZmZpY3VsdCddO1xyXG4gICAgICAgIHZhciBwcm9wc1R5cGVDYXJkcyA9IFsnYXV0bycsICdhbmltYWwnXTtcclxuICAgICAgICB2YXIgbWFpbiA9IHRoaXMuY3JlYXRlRWxlbWVudCgnbWFpbicsIFsnbWFpbiddLCAnJyk7XHJcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMuY3JlYXRlRWxlbWVudCgnZGl2JywgWydjb250YWluZXInLCAnbWFpbi1jb250YWluZXInXSwgJycpO1xyXG4gICAgICAgIHZhciB3cmFwQ29udGVudCA9IHRoaXMuY3JlYXRlRWxlbWVudCgnZGl2JywgWydzZXR0aW5nLWNvbnRlbnQnXSwgJycpO1xyXG4gICAgICAgIHZhciB0aXRsZURpZmZpY3VsdHkgPSB0aGlzLmNyZWF0ZUVsZW1lbnQoJ2gyJywgWydzZXR0aW5nLXRpdGxlJ10sICcnKTtcclxuICAgICAgICB2YXIgZm9ybURpZmZpY3VsdHkgPSB0aGlzLmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nLCBbJ3NldHRpbmctZmVpbGQnXSwgJycpO1xyXG4gICAgICAgIHZhciB0aXRsZVR5cGVDYXJkcyA9IHRoaXMuY3JlYXRlRWxlbWVudCgnaDInLCBbJ3NldHRpbmctdGl0bGUnXSwgJycpO1xyXG4gICAgICAgIHZhciBmb3JtVHlwZUNhcmRzID0gdGhpcy5jcmVhdGVFbGVtZW50KCdmb3JtJywgWydzZXR0aW5nLWZlaWxkJ10sICcnKTtcclxuICAgICAgICB0aXRsZURpZmZpY3VsdHkuaW5uZXJIVE1MID0gJ0RpZmZpY3VsdHknO1xyXG4gICAgICAgIHRpdGxlVHlwZUNhcmRzLmlubmVySFRNTCA9ICdHYW1lIGNhcmRzJztcclxuICAgICAgICBwcm9wc0RpZmZpY3VsdHkuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xyXG4gICAgICAgICAgICBmb3JtRGlmZmljdWx0eS5hcHBlbmQoX3RoaXMuY3JldGVEaWZmaWN1bHR5QmxvY2socHJvcCkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHByb3BzVHlwZUNhcmRzLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcclxuICAgICAgICAgICAgZm9ybVR5cGVDYXJkcy5hcHBlbmQoX3RoaXMuY3JlYXRlVHlwZUNhcmRzQmxvY2socHJvcCkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHdyYXBDb250ZW50LmFwcGVuZCh0aXRsZURpZmZpY3VsdHkpO1xyXG4gICAgICAgIHdyYXBDb250ZW50LmFwcGVuZChmb3JtRGlmZmljdWx0eSk7XHJcbiAgICAgICAgd3JhcENvbnRlbnQuYXBwZW5kKHRpdGxlVHlwZUNhcmRzKTtcclxuICAgICAgICB3cmFwQ29udGVudC5hcHBlbmQoZm9ybVR5cGVDYXJkcyk7XHJcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZCh3cmFwQ29udGVudCk7XHJcbiAgICAgICAgbWFpbi5hcHBlbmQoY29udGFpbmVyKTtcclxuICAgICAgICByZXR1cm4gbWFpbjtcclxuICAgIH07XHJcbiAgICBTZXR0aW5nc1BhZ2UucHJvdG90eXBlLmNyZXRlRGlmZmljdWx0eUJsb2NrID0gZnVuY3Rpb24gKHRleHQpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciB3cmFwID0gdGhpcy5jcmVhdGVFbGVtZW50KCdkaXYnLCBbJ3NldHRpbmctc2VsZWN0X193cmFwJ10sICcnKTtcclxuICAgICAgICB2YXIgbGFiZWwgPSB0aGlzLmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJywgWydzZXR0aW5nLXNlbGVjdF9fdGl0bGUnXSwgJycpO1xyXG4gICAgICAgIHZhciBpbnB1dCA9IHRoaXMuY3JlYXRlRWxlbWVudCgnaW5wdXQnLCBbJ3NldHRpbmctc2VsZWN0J10sIHRleHQpO1xyXG4gICAgICAgIGxhYmVsLnNldEF0dHJpYnV0ZSgnZm9yJywgdGV4dCk7XHJcbiAgICAgICAgbGFiZWwuaW5uZXJIVE1MID0gdGV4dDtcclxuICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ25hbWUnLCAnZGlmZmljdWx0eScpO1xyXG4gICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsICdyYWRpbycpO1xyXG4gICAgICAgIGlucHV0LmlkID0gdGV4dDtcclxuICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLmRpZmZpY3VsdHkgPSBpbnB1dC5pZDtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAodGV4dCA9PT0gdGhpcy5kaWZmaWN1bHR5KSB7XHJcbiAgICAgICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgnY2hlY2tlZCcsICdjaGVja2VkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHdyYXAuYXBwZW5kKGxhYmVsKTtcclxuICAgICAgICB3cmFwLmFwcGVuZChpbnB1dCk7XHJcbiAgICAgICAgcmV0dXJuIHdyYXA7XHJcbiAgICB9O1xyXG4gICAgU2V0dGluZ3NQYWdlLnByb3RvdHlwZS5jcmVhdGVUeXBlQ2FyZHNCbG9jayA9IGZ1bmN0aW9uICh0ZXh0KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgd3JhcCA9IHRoaXMuY3JlYXRlRWxlbWVudCgnZGl2JywgWydzZXR0aW5nLXNlbGVjdF9fd3JhcCddLCAnJyk7XHJcbiAgICAgICAgdmFyIGxhYmVsID0gdGhpcy5jcmVhdGVFbGVtZW50KCdsYWJlbCcsIFsnc2V0dGluZy1zZWxlY3RfX3RpdGxlJ10sICcnKTtcclxuICAgICAgICB2YXIgaW5wdXQgPSB0aGlzLmNyZWF0ZUVsZW1lbnQoJ2lucHV0JywgWydzZXR0aW5nLXNlbGVjdCddLCB0ZXh0KTtcclxuICAgICAgICBsYWJlbC5zZXRBdHRyaWJ1dGUoJ2ZvcicsIHRleHQpO1xyXG4gICAgICAgIGxhYmVsLmlubmVySFRNTCA9IHRleHQ7XHJcbiAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCduYW1lJywgJ2ltYWdlcycpO1xyXG4gICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsICdyYWRpbycpO1xyXG4gICAgICAgIGlucHV0LmlkID0gdGV4dDtcclxuICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnR5cGVDYXJkcyA9IGlucHV0LmlkO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICh0ZXh0ID09PSB0aGlzLnR5cGVDYXJkcykge1xyXG4gICAgICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ2NoZWNrZWQnLCAnY2hlY2tlZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB3cmFwLmFwcGVuZChsYWJlbCk7XHJcbiAgICAgICAgd3JhcC5hcHBlbmQoaW5wdXQpO1xyXG4gICAgICAgIHJldHVybiB3cmFwO1xyXG4gICAgfTtcclxuICAgIFNldHRpbmdzUGFnZS5wcm90b3R5cGUuZ2V0VmFsdWVEaWZmaWN1bHR5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRpZmZpY3VsdHk7XHJcbiAgICB9O1xyXG4gICAgU2V0dGluZ3NQYWdlLnByb3RvdHlwZS5nZXRUeXBlQ2FyZHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudHlwZUNhcmRzO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBTZXR0aW5nc1BhZ2U7XHJcbn0oYmFzZV9jb21wb25lbnRfMS5kZWZhdWx0KSk7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IFNldHRpbmdzUGFnZTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIFRpbWVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gVGltZXIoKSB7XHJcbiAgICAgICAgdGhpcy52YWx1ZVRpbWVyID0gMDtcclxuICAgICAgICB0aGlzLm1pbnV0ZXMgPSAwO1xyXG4gICAgICAgIHRoaXMuc2Vjb25kcyA9IDA7XHJcbiAgICAgICAgdGhpcy50aW1lckZlaWxkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgdGhpcy50aW1lckhUTUwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XHJcbiAgICB9XHJcbiAgICBUaW1lci5wcm90b3R5cGUuY3JlYXRlSFRNTEVsZW1lbnRUaW1lciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLnRpbWVyRmVpbGQuY2xhc3NOYW1lID0gJ3RpbWVyJztcclxuICAgICAgICB0aGlzLnRpbWVySFRNTC5jbGFzc05hbWUgPSAndGltZXItdGV4dCc7XHJcbiAgICAgICAgdGhpcy5zaG93VGltZXJWYWx1ZSh0aGlzLm1pbnV0ZXMsIHRoaXMuc2Vjb25kcyk7XHJcbiAgICAgICAgdGhpcy50aW1lckZlaWxkLmFwcGVuZCh0aGlzLnRpbWVySFRNTCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGltZXJGZWlsZDtcclxuICAgIH07XHJcbiAgICBUaW1lci5wcm90b3R5cGUuc2hvd1RpbWVyVmFsdWUgPSBmdW5jdGlvbiAobWludXRlcywgc2Vjb25kcykge1xyXG4gICAgICAgIHZhciBtaW4gPSAobWludXRlcyA8IDEwKSA/IFwiMFwiICsgbWludXRlcyA6IFwiXCIgKyBtaW51dGVzO1xyXG4gICAgICAgIHZhciBzZWMgPSAoc2Vjb25kcyA8IDEwKSA/IFwiMFwiICsgc2Vjb25kcyA6IFwiXCIgKyBzZWNvbmRzO1xyXG4gICAgICAgIHRoaXMudGltZXJIVE1MLmlubmVySFRNTCA9IG1pbiArIFwiOlwiICsgc2VjO1xyXG4gICAgfTtcclxuICAgIFRpbWVyLnByb3RvdHlwZS5zdGFydFRpbWVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy52YWx1ZVRpbWVyID0gMDtcclxuICAgICAgICB0aGlzLnNob3dUaW1lclZhbHVlKHRoaXMubWludXRlcywgdGhpcy5zZWNvbmRzKTtcclxuICAgICAgICB0aGlzLnN0YXJ0VGltZXJJbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMudmFsdWVUaW1lcisrO1xyXG4gICAgICAgICAgICBfdGhpcy5taW51dGVzID0gTWF0aC5mbG9vcihfdGhpcy52YWx1ZVRpbWVyIC8gNjApO1xyXG4gICAgICAgICAgICBfdGhpcy5zZWNvbmRzID0gX3RoaXMudmFsdWVUaW1lciAtIF90aGlzLm1pbnV0ZXMgKiA2MDtcclxuICAgICAgICAgICAgX3RoaXMuc2hvd1RpbWVyVmFsdWUoX3RoaXMubWludXRlcywgX3RoaXMuc2Vjb25kcyk7XHJcbiAgICAgICAgfSwgMTAwMCk7XHJcbiAgICB9O1xyXG4gICAgVGltZXIucHJvdG90eXBlLnN0b3BUaW1lciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5zdGFydFRpbWVySW50ZXJ2YWwpXHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5zdGFydFRpbWVySW50ZXJ2YWwpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBUaW1lcjtcclxufSgpKTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gVGltZXI7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xyXG59O1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnJlcXVpcmUoXCIuL3N0eWxlcy9zdHlsZXMuY3NzXCIpO1xyXG52YXIgbXZjXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vbXZjXCIpKTtcclxudmFyIGJhc2VfY29tcG9uZW50XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYmFzZS1jb21wb25lbnRcIikpO1xyXG53aW5kb3cub25sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGVsZW1lbnQgPSBuZXcgYmFzZV9jb21wb25lbnRfMS5kZWZhdWx0KCk7XHJcbiAgICB2YXIgYXBwID0gZWxlbWVudC5jcmVhdGVFbGVtZW50KCdkaXYnLCBbXSwgJ2FwcCcpO1xyXG4gICAgZG9jdW1lbnQuYm9keS5wcmVwZW5kKGFwcCk7XHJcbiAgICBtdmNfMS5kZWZhdWx0KGFwcCk7XHJcbn07XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn07XHJcbnZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufTtcclxudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcclxufTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgYmFzZV9jb21wb25lbnRfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9iYXNlLWNvbXBvbmVudFwiKSk7XHJcbnZhciBoZWFkZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9jb21wb25lbnRzL2hlYWRlci9oZWFkZXJcIikpO1xyXG52YXIgYWJvdXRfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9jb21wb25lbnRzL2Fib3V0L2Fib3V0XCIpKTtcclxudmFyIHNjb3JlXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vY29tcG9uZW50cy9zY29yZS9zY29yZVwiKSk7XHJcbnZhciBzZXR0aW5nc18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvc2V0dGluZ3MtcGFnZS9zZXR0aW5nc1wiKSk7XHJcbnZhciByZWdpc3RyYXRpb25fZm9ybV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvcmVnaXN0cmF0aW9uL3JlZ2lzdHJhdGlvbi1mb3JtXCIpKTtcclxudmFyIGdhbWVfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9jb21wb25lbnRzL2dhbWUvZ2FtZVwiKSk7XHJcbnZhciBkYXRhX2Jhc2VfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9jb21wb25lbnRzL2RhdGEtYmFzZS9kYXRhLWJhc2VcIikpO1xyXG5mdW5jdGlvbiBtdmMoYXBwKSB7XHJcbiAgICAvLyBWaWV3XHJcbiAgICB2YXIgVmlldyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBWaWV3KGFwcCkge1xyXG4gICAgICAgICAgICB0aGlzLmFwcCA9IGFwcDtcclxuICAgICAgICAgICAgdGhpcy5tb2RhbEZlaWxkID0gbmV3IGJhc2VfY29tcG9uZW50XzEuZGVmYXVsdCgpLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIFsnbW9kYWwtZmVpbGQnXSwgJycpO1xyXG4gICAgICAgICAgICB0aGlzLk1vZGFsV2luZG93ID0gbmV3IHJlZ2lzdHJhdGlvbl9mb3JtXzEuZGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB0aGlzLm1vZGFsV2luZG93ID0gdGhpcy5Nb2RhbFdpbmRvdy5tb2RhbFdpbmRvdztcclxuICAgICAgICAgICAgdGhpcy5oZWFkZXIgPSBuZXcgaGVhZGVyXzEuZGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB0aGlzLkFib3V0UGFnZSA9IG5ldyBhYm91dF8xLmRlZmF1bHQoKS5nZXRQYWdlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuU2NvcmVQYWdlID0gbmV3IHNjb3JlXzEuZGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB0aGlzLlNldHRpbmdzID0gbmV3IHNldHRpbmdzXzEuZGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB0aGlzLkdhbWUgPSBuZXcgZ2FtZV8xLmRlZmF1bHQoKTtcclxuICAgICAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFZpZXcucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW9kYWxGZWlsZC5hcHBlbmQodGhpcy5tb2RhbFdpbmRvdyk7XHJcbiAgICAgICAgICAgIHRoaXMuYXBwLmJlZm9yZSh0aGlzLm1vZGFsRmVpbGQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVmlldy5wcm90b3R5cGUuc2hvd0ZpcnN0UGFnZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5hcHAuYXBwZW5kKHRoaXMuaGVhZGVyLmdldEhlYWRlcigpKTtcclxuICAgICAgICAgICAgdGhpcy5hcHAuYXBwZW5kKHRoaXMuQWJvdXRQYWdlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFZpZXcucHJvdG90eXBlLm9wZW5TZWxlY3RlZFBhZ2UgPSBmdW5jdGlvbiAoaXRlbSwgZGF0YUFsbFBlcnNvbnMpIHtcclxuICAgICAgICAgICAgdmFyIGl0ZW1zID0gdGhpcy5oZWFkZXIubWVudS5xdWVyeVNlbGVjdG9yQWxsKCcuaGVhZGVyLW1lbnVfX2l0ZW0nKTtcclxuICAgICAgICAgICAgaXRlbXMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbSkgeyByZXR1cm4gZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdpdGVtLXNlbGVjdCcpOyB9KTtcclxuICAgICAgICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKCdpdGVtLXNlbGVjdCcpO1xyXG4gICAgICAgICAgICBpZiAoaXRlbS5jbGFzc0xpc3QuY29udGFpbnMoJ2l0ZW0tYWJvdXQnKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG93UGFnZSh0aGlzLkFib3V0UGFnZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGl0ZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdpdGVtLXNjb3JlJykpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhQWxsUGVyc29ucylcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dQYWdlKHRoaXMuU2NvcmVQYWdlLmdldFBhZ2UoZGF0YUFsbFBlcnNvbnMpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaXRlbS5jbGFzc0xpc3QuY29udGFpbnMoJ2l0ZW0tc2V0dGluZycpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dQYWdlKHRoaXMuU2V0dGluZ3MuZ2V0UGFnZSgpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgVmlldy5wcm90b3R5cGUub3BlblNjb3JlUGFnZSA9IGZ1bmN0aW9uIChkYXRhQWxsUGVyc29ucykge1xyXG4gICAgICAgICAgICBpZiAoZGF0YUFsbFBlcnNvbnMpXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dQYWdlKHRoaXMuU2NvcmVQYWdlLmdldFBhZ2UoZGF0YUFsbFBlcnNvbnMpKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFZpZXcucHJvdG90eXBlLnNob3dNb2RhbFdpbmRvdyA9IGZ1bmN0aW9uICh3aW4sIHNjb3JlKSB7XHJcbiAgICAgICAgICAgICh3aW4gJiYgc2NvcmUpXHJcbiAgICAgICAgICAgICAgICA/IHRoaXMuTW9kYWxXaW5kb3cub3Blbk1vZGFsV2luKHNjb3JlKVxyXG4gICAgICAgICAgICAgICAgOiB0aGlzLk1vZGFsV2luZG93Lm9wZW5Nb2RhbFJlZ2lzdHJhdGlvbigpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVmlldy5wcm90b3R5cGUuaGlkZGVuTW9kYWxXaW5kb3cgPSBmdW5jdGlvbiAod2luKSB7XHJcbiAgICAgICAgICAgIGlmICh3aW4pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuTW9kYWxXaW5kb3cuY2xvc2VNb2RhbFdpbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsLWZvbicpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGlucHV0cyA9IG1vZGFsID09PSBudWxsIHx8IG1vZGFsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtb2RhbC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCcpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5Nb2RhbFdpbmRvdy5jbG9zZU1vZGFsUmVnaXN0cmF0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBpbnB1dHMgPT09IG51bGwgfHwgaW5wdXRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbnB1dHMuZm9yRWFjaChmdW5jdGlvbiAoaW5wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgICAgICAgICAgICAgIGlucC52YWx1ZSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIChfYSA9IGlucC5uZXh0RWxlbWVudFNpYmxpbmcpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jbGFzc0xpc3QuYWRkKCdlcnJvcicpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIFZpZXcucHJvdG90eXBlLnNob3dTdGFydEdhbWVCdXR0b24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciByZWdCdG4gPSB0aGlzLmFwcC5xdWVyeVNlbGVjdG9yKCcjcmVnQnRuJyk7XHJcbiAgICAgICAgICAgIHZhciBzdGFydEJ0biA9IHRoaXMuYXBwLnF1ZXJ5U2VsZWN0b3IoJyNzdGFydEdhbWUnKTtcclxuICAgICAgICAgICAgcmVnQnRuID09PSBudWxsIHx8IHJlZ0J0biA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVnQnRuLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG4gICAgICAgICAgICBzdGFydEJ0biA9PT0gbnVsbCB8fCBzdGFydEJ0biA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3RhcnRCdG4uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBWaWV3LnByb3RvdHlwZS5zaG93U3RhcnRTdG9wR2FtZUJ1dHRvbiA9IGZ1bmN0aW9uIChpZCwgbmFtZUJ0bikge1xyXG4gICAgICAgICAgICB2YXIgc3RhcnRHYW1lID0gdGhpcy5hcHAucXVlcnlTZWxlY3RvcignLmhlYWRlci1idXR0b24tc3RhcnQnKTtcclxuICAgICAgICAgICAgaWYgKHN0YXJ0R2FtZSkge1xyXG4gICAgICAgICAgICAgICAgc3RhcnRHYW1lLmlkID0gaWQ7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGV4dCA9IHN0YXJ0R2FtZS5maXJzdEVsZW1lbnRDaGlsZDtcclxuICAgICAgICAgICAgICAgIGlmICh0ZXh0KVxyXG4gICAgICAgICAgICAgICAgICAgIHRleHQuaW5uZXJIVE1MID0gbmFtZUJ0bjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgVmlldy5wcm90b3R5cGUuc2hvd0F2YXRhck5hbWUgPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgICAgICB0aGlzLmhlYWRlci5uYW1lLmlubmVySFRNTCA9IG5hbWU7XHJcbiAgICAgICAgICAgIHRoaXMuaGVhZGVyLm5hbWUuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBWaWV3LnByb3RvdHlwZS5zaG93U3RhdHVzSW5wdXQgPSBmdW5jdGlvbiAoaWQsIHN0YXR1cykge1xyXG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xyXG4gICAgICAgICAgICB2YXIgaW5wdXQgPSB0aGlzLm1vZGFsV2luZG93LnF1ZXJ5U2VsZWN0b3IoXCIjXCIgKyBpZCk7XHJcbiAgICAgICAgICAgIGlmIChzdGF0dXMpIHtcclxuICAgICAgICAgICAgICAgIChfYSA9IGlucHV0ID09PSBudWxsIHx8IGlucHV0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbnB1dC5uZXh0RWxlbWVudFNpYmxpbmcpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jbGFzc0xpc3QucmVtb3ZlKCdlcnJvcicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgKF9iID0gaW5wdXQgPT09IG51bGwgfHwgaW5wdXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGlucHV0Lm5leHRFbGVtZW50U2libGluZykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNsYXNzTGlzdC5hZGQoJ2Vycm9yJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIFZpZXcucHJvdG90eXBlLnNob3dTdHlsZXNkQWRkQnV0dG9uID0gZnVuY3Rpb24gKHN0YXR1cykge1xyXG4gICAgICAgICAgICB2YXIgYnV0dG9uQWRkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FkZCcpO1xyXG4gICAgICAgICAgICBpZiAoIWJ1dHRvbkFkZClcclxuICAgICAgICAgICAgICAgIHRocm93ICdlcnJvcic7XHJcbiAgICAgICAgICAgIGlmIChzdGF0dXMpIHtcclxuICAgICAgICAgICAgICAgIGJ1dHRvbkFkZC5jbGFzc0xpc3QuYWRkKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgICAgICAgICAgYnV0dG9uQWRkLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYnV0dG9uQWRkLmNsYXNzTGlzdC5yZW1vdmUoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgICAgICAgICBidXR0b25BZGQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIFZpZXcucHJvdG90eXBlLnNob3dHYW1lUGFnZSA9IGZ1bmN0aW9uIChwcm9wcywgZGlmZmljdWx0eSkge1xyXG4gICAgICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgICAgIChfYSA9IHRoaXMuYXBwLmxhc3RFbGVtZW50Q2hpbGQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZXBsYWNlV2l0aCh0aGlzLkdhbWUuZ2V0UGFnZShwcm9wcywgZGlmZmljdWx0eSkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVmlldy5wcm90b3R5cGUuc2hvd1BhZ2UgPSBmdW5jdGlvbiAoY29udGVudCkge1xyXG4gICAgICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgICAgIChfYSA9IHRoaXMuYXBwLmxhc3RFbGVtZW50Q2hpbGQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZXBsYWNlV2l0aChjb250ZW50KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFZpZXcucHJvdG90eXBlLnNob3dSb3RhdGUgPSBmdW5jdGlvbiAoY2FyZCkge1xyXG4gICAgICAgICAgICB0aGlzLkdhbWUudG9Sb3RhdGVDYXJkKGNhcmQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVmlldy5wcm90b3R5cGUuc2hvd1Jlc3VsdFNlbGVjdCA9IGZ1bmN0aW9uIChhcnJTZWxlY3QpIHtcclxuICAgICAgICAgICAgdGhpcy5HYW1lLmdldFJlc3VsdFNlbGVjdENhcmRzKGFyclNlbGVjdCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBWaWV3LnByb3RvdHlwZS5yb3RhdGVBbGxDYXJkcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgdmFyIGNhcmRzID0gdGhpcy5hcHAucXVlcnlTZWxlY3RvckFsbCgnLmNhcmQtd3JhcCcpO1xyXG4gICAgICAgICAgICBjYXJkcy5mb3JFYWNoKGZ1bmN0aW9uIChjYXJkKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5HYW1lLnRvUm90YXRlQWxsY2FyZHMoY2FyZCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVmlldy5wcm90b3R5cGUuc2hvd1N0YXJ0VGltZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuR2FtZS50aW1lci5zdGFydFRpbWVyKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBWaWV3LnByb3RvdHlwZS5zaG93U3RvcFRpbWVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLkdhbWUudGltZXIuc3RvcFRpbWVyKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gVmlldztcclxuICAgIH0oKSk7XHJcbiAgICAvLyBNb2RlbFxyXG4gICAgdmFyIE1vZGVsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIE1vZGVsKHZpZXcpIHtcclxuICAgICAgICAgICAgdGhpcy52aWV3ID0gdmlldztcclxuICAgICAgICAgICAgdGhpcy5yZWdEYXRhID0geyBmaXJzdE5hbWU6ICcnLCBsYXN0TmFtZTogJycsIGVtYWlsOiAnJyB9O1xyXG4gICAgICAgICAgICB0aGlzLmFyckVsZW1lbnRzUHJlc3NlZCA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLmltYWdlc0ZvckdhbWUgPSBbXTtcclxuICAgICAgICAgICAgdGhpcy5zZXR0aW5nRGF0YSA9IHt9O1xyXG4gICAgICAgICAgICB0aGlzLmRpZmZpY3VsdHkgPSB0aGlzLnZpZXcuU2V0dGluZ3MuZ2V0VmFsdWVEaWZmaWN1bHR5KCk7XHJcbiAgICAgICAgICAgIHRoaXMuaXRlbXNGb3JTY29yZSA9IHtcclxuICAgICAgICAgICAgICAgIGFtb3VudEFsbENhcmRzOiAwLFxyXG4gICAgICAgICAgICAgICAgYW1vdW50T3BlbmVkQ2FyZHM6IDAsXHJcbiAgICAgICAgICAgICAgICBhbW91bnRBbGxDb21wYXJlQ2FyZHM6IDAsXHJcbiAgICAgICAgICAgICAgICBhbW91bnRGYXRhbENvbXBhcmVDYXJkczogMCxcclxuICAgICAgICAgICAgICAgIHRpbWVyOiAwXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMuc2NvcmUgPSAwO1xyXG4gICAgICAgICAgICB0aGlzLmRhdGFCYXNlID0gbmV3IGRhdGFfYmFzZV8xLmRlZmF1bHQoKTtcclxuICAgICAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0RGF0YVNldHRpbmdzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIE1vZGVsLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLmdldExvYWRGaXJzdFBhZ2UoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE1vZGVsLnByb3RvdHlwZS5nZXRMb2FkRmlyc3RQYWdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLnZpZXcuc2hvd0ZpcnN0UGFnZSgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTW9kZWwucHJvdG90eXBlLnNlbGVjdE1lbnUgPSBmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICAgICB0aGlzLmdldFN0b3BHYW1lKCk7XHJcbiAgICAgICAgICAgIGlmIChpdGVtLmNsYXNzTGlzdC5jb250YWlucygnaXRlbS1zY29yZScpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcub3BlblNlbGVjdGVkUGFnZShpdGVtLCB0aGlzLmRhdGFCYXNlLmRhdGFBbGxQZXJzb25zKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudmlldy5vcGVuU2VsZWN0ZWRQYWdlKGl0ZW0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBNb2RlbC5wcm90b3R5cGUuY2xvc2VNb2RhbFdpbmRvdyA9IGZ1bmN0aW9uIChkZWxldGVEYXRhKSB7XHJcbiAgICAgICAgICAgIGlmIChkZWxldGVEYXRhKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlZ0RhdGEuZmlyc3ROYW1lID0gJyc7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlZ0RhdGEubGFzdE5hbWUgPSAnJztcclxuICAgICAgICAgICAgICAgIHRoaXMucmVnRGF0YS5lbWFpbCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRTdGF0dXNEaXNhYmxlZEJ1dHRvbih0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICA7XHJcbiAgICAgICAgICAgIHRoaXMudmlldy5oaWRkZW5Nb2RhbFdpbmRvdygpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTW9kZWwucHJvdG90eXBlLmNsb3NlTW9kYWxXaW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMudmlldy5oaWRkZW5Nb2RhbFdpbmRvdygnd2luJyk7XHJcbiAgICAgICAgICAgIHRoaXMudmlldy5vcGVuU2NvcmVQYWdlKHRoaXMuZGF0YUJhc2UuZGF0YUFsbFBlcnNvbnMpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTW9kZWwucHJvdG90eXBlLm9wZW5Nb2RhbFdpbmRvdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy52aWV3LnNob3dNb2RhbFdpbmRvdygpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTW9kZWwucHJvdG90eXBlLmNoZWNrVmFsdWVJbnB1dCA9IGZ1bmN0aW9uIChpZCwgdmFsdWUpIHtcclxuICAgICAgICAgICAgdmFyIHJlZ05hbWUgPSAvXlthLXpBLVrQsC3Rj9CQLdCvXSskL3VpO1xyXG4gICAgICAgICAgICB2YXIgcmVnRW1haWwgPSAvXlteQFxcc10rQFteQFxcc10rXFwuW15AXFxzXSskLztcclxuICAgICAgICAgICAgaWYgKGlkID09PSAnZmlyc3ROYW1lJyB8fCBpZCA9PT0gJ2xhc3ROYW1lJykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlZ05hbWUudGVzdCh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZ0RhdGFbaWRdID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3LnNob3dTdGF0dXNJbnB1dChpZCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZ0RhdGFbaWRdID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3LnNob3dTdGF0dXNJbnB1dChpZCwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpZCA9PT0gJ2VtYWlsJykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlZ0VtYWlsLnRlc3QodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWdEYXRhW2lkXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlldy5zaG93U3RhdHVzSW5wdXQoaWQsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWdEYXRhW2lkXSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlldy5zaG93U3RhdHVzSW5wdXQoaWQsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmNoZWNrVmFsdWVEYXRhKCkgPyB0aGlzLmdldFN0YXR1c0Rpc2FibGVkQnV0dG9uKGZhbHNlKSA6IHRoaXMuZ2V0U3RhdHVzRGlzYWJsZWRCdXR0b24odHJ1ZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBNb2RlbC5wcm90b3R5cGUuY2hlY2tWYWx1ZURhdGEgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBmYWxzZTtcclxuICAgICAgICAgICAgaWYgKHRoaXMucmVnRGF0YS5maXJzdE5hbWUgJiYgdGhpcy5yZWdEYXRhLmxhc3ROYW1lICYmIHRoaXMucmVnRGF0YS5lbWFpbCkge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gIXJlc3VsdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTW9kZWwucHJvdG90eXBlLmdldFN0YXR1c0Rpc2FibGVkQnV0dG9uID0gZnVuY3Rpb24gKHN0YXR1cykge1xyXG4gICAgICAgICAgICB0aGlzLnZpZXcuc2hvd1N0eWxlc2RBZGRCdXR0b24oc3RhdHVzKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE1vZGVsLnByb3RvdHlwZS5jaGVja1JlZ2lzdHJhdGlvbkRhdGEgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrVmFsdWVEYXRhKCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VNb2RhbFdpbmRvdygpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LnNob3dTdGFydEdhbWVCdXR0b24oKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudmlldy5zaG93QXZhdGFyTmFtZSh0aGlzLnJlZ0RhdGEuZmlyc3ROYW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgTW9kZWwucHJvdG90eXBlLmdldFN0YXJ0R2FtZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgdGhpcy5pbWFnZXNGb3JHYW1lID0gdGhpcy5nZXRQcm9wc0ZvckdhbWUodGhpcy5zZXR0aW5nRGF0YSwgdGhpcy52aWV3LlNldHRpbmdzLmdldFZhbHVlRGlmZmljdWx0eSgpLCB0aGlzLnZpZXcuU2V0dGluZ3MuZ2V0VHlwZUNhcmRzKCkpO1xyXG4gICAgICAgICAgICB0aGlzLnZpZXcuc2hvd0dhbWVQYWdlKHRoaXMuaW1hZ2VzRm9yR2FtZSwgdGhpcy52aWV3LlNldHRpbmdzLmdldFZhbHVlRGlmZmljdWx0eSgpKTtcclxuICAgICAgICAgICAgdGhpcy52aWV3LnNob3dTdGFydFRpbWVyKCk7XHJcbiAgICAgICAgICAgIHRoaXMudmlldy5zaG93U3RhcnRTdG9wR2FtZUJ1dHRvbignc3RvcEdhbWUnLCAnc3RvcCBnYW1lJyk7XHJcbiAgICAgICAgICAgIHRoaXMuaXRlbXNGb3JTY29yZS5hbW91bnRBbGxDYXJkcyA9IHRoaXMuaW1hZ2VzRm9yR2FtZS5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICB0aGlzLml0ZW1zRm9yU2NvcmUuYW1vdW50T3BlbmVkQ2FyZHMgPSAwO1xyXG4gICAgICAgICAgICB0aGlzLml0ZW1zRm9yU2NvcmUuYW1vdW50QWxsQ29tcGFyZUNhcmRzID0gMDtcclxuICAgICAgICAgICAgdGhpcy5pdGVtc0ZvclNjb3JlLmFtb3VudEZhdGFsQ29tcGFyZUNhcmRzID0gMDtcclxuICAgICAgICAgICAgdGhpcy5pdGVtc0ZvclNjb3JlLnRpbWVyID0gMDtcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy52aWV3LnJvdGF0ZUFsbENhcmRzKCk7XHJcbiAgICAgICAgICAgIH0sIDMwMDAwKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE1vZGVsLnByb3RvdHlwZS5nZXRTdG9wR2FtZSA9IGZ1bmN0aW9uICh3aW4pIHtcclxuICAgICAgICAgICAgdGhpcy5hcnJFbGVtZW50c1ByZXNzZWQgPSBbXTtcclxuICAgICAgICAgICAgdGhpcy52aWV3LnNob3dTdGFydFN0b3BHYW1lQnV0dG9uKCdzdGFydEdhbWUnLCAnc3RhcnQgZ2FtZScpO1xyXG4gICAgICAgICAgICB0aGlzLnZpZXcuc2hvd1N0b3BUaW1lcigpO1xyXG4gICAgICAgICAgICB0aGlzLml0ZW1zRm9yU2NvcmUudGltZXIgPSB0aGlzLnZpZXcuR2FtZS50aW1lci52YWx1ZVRpbWVyO1xyXG4gICAgICAgICAgICBpZiAod2luKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjb3JlID0gKCh0aGlzLml0ZW1zRm9yU2NvcmUuYW1vdW50QWxsQ29tcGFyZUNhcmRzIC0gdGhpcy5pdGVtc0ZvclNjb3JlLmFtb3VudEZhdGFsQ29tcGFyZUNhcmRzKSAqIDEwMCkgLSB0aGlzLml0ZW1zRm9yU2NvcmUudGltZXIgKiAxMDtcclxuICAgICAgICAgICAgICAgIHZhciBwZXJzb24gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlyc3ROYW1lOiB0aGlzLnJlZ0RhdGEuZmlyc3ROYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhc3ROYW1lOiB0aGlzLnJlZ0RhdGEubGFzdE5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgZW1haWw6IHRoaXMucmVnRGF0YS5lbWFpbCxcclxuICAgICAgICAgICAgICAgICAgICBzY29yZTogdGhpcy5zY29yZSxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5EYXRhQmFzZSA9IHRoaXMuY2hlY2tJbkRhdGFCYXNlUGVyc29uKHBlcnNvbik7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWluRGF0YUJhc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFCYXNlLmFkZFBlcnNvbihwZXJzb24pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhQmFzZS51cERhdGVQZXJzb24ocGVyc29uKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YUJhc2UuZ2V0QWxsUGVyc29ucygpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LnNob3dNb2RhbFdpbmRvdygnd2luJywgdGhpcy5zY29yZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIE1vZGVsLnByb3RvdHlwZS5jaGVja0luRGF0YUJhc2VQZXJzb24gPSBmdW5jdGlvbiAocGVyc29uKSB7XHJcbiAgICAgICAgICAgIHZhciBpbkRhdGFCYXNlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YUJhc2UuZGF0YUFsbFBlcnNvbnMuZm9yRWFjaChmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBlcnNvbi5lbWFpbCA9PT0gZGF0YS5lbWFpbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluRGF0YUJhc2UgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIGluRGF0YUJhc2U7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBNb2RlbC5wcm90b3R5cGUuZ2V0RGF0YVNldHRpbmdzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVjdCwgZGF0YTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgZmV0Y2goJy4uL3NldHRpbmcuanNvbicpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjdCA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHJlY3QuanNvbigpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ0RhdGEgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE1vZGVsLnByb3RvdHlwZS5nZXRQcm9wc0ZvckdhbWUgPSBmdW5jdGlvbiAoZGF0YSwgZGlmZmljdWx0eSwgdHlwZSkge1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBkYXRhLmRpZmZpY3VsdHlbZGlmZmljdWx0eV07XHJcbiAgICAgICAgICAgIHZhciBpbWFnZXMgPSBkYXRhLmltYWdlc1t0eXBlXS5zbGljZSgwLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIHZhciBhcnIgPSBpbWFnZXMubWFwKGZ1bmN0aW9uIChlbGVtKSB7IHJldHVybiBpbWFnZXM7IH0pO1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gYXJyLnJlZHVjZShmdW5jdGlvbiAoYWNjLCB2YWwpIHsgcmV0dXJuIGFjYy5jb25jYXQodmFsKTsgfSwgW10pLnNvcnQoZnVuY3Rpb24gKCkgeyByZXR1cm4gTWF0aC5yYW5kb20oKSAtIDAuNTsgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBNb2RlbC5wcm90b3R5cGUudG9Sb3RhdGVDYXJkID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgdGhpcy52aWV3LnNob3dSb3RhdGUoZWxlbWVudCk7XHJcbiAgICAgICAgICAgIHRoaXMudG9GaWxsYXJyRWxlbWVudHNQcmVzc2VkKGVsZW1lbnQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTW9kZWwucHJvdG90eXBlLnRvRmlsbGFyckVsZW1lbnRzUHJlc3NlZCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmFyckVsZW1lbnRzUHJlc3NlZC5sZW5ndGggPD0gMSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hcnJFbGVtZW50c1ByZXNzZWQucHVzaChlbGVtZW50KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tFbGVtZW50c1ByZXNzZWQodGhpcy5hcnJFbGVtZW50c1ByZXNzZWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBNb2RlbC5wcm90b3R5cGUuY2hlY2tFbGVtZW50c1ByZXNzZWQgPSBmdW5jdGlvbiAoYXJyKSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgIGlmIChhcnIubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLml0ZW1zRm9yU2NvcmUuYW1vdW50QWxsQ29tcGFyZUNhcmRzKys7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXJyWzBdLmRhdGFzZXQudmFsdWUgIT09IGFyclsxXS5kYXRhc2V0LnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pdGVtc0ZvclNjb3JlLmFtb3VudEZhdGFsQ29tcGFyZUNhcmRzKys7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnZpZXcuc2hvd1Jlc3VsdFNlbGVjdChhcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5hcnJFbGVtZW50c1ByZXNzZWQgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICB9LCA1MDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pdGVtc0ZvclNjb3JlLmFtb3VudE9wZW5lZENhcmRzICs9IDI7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hcnJFbGVtZW50c1ByZXNzZWQgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pdGVtc0ZvclNjb3JlLmFtb3VudE9wZW5lZENhcmRzID09PSB0aGlzLml0ZW1zRm9yU2NvcmUuYW1vdW50QWxsQ2FyZHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRTdG9wR2FtZSgnd2luJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gTW9kZWw7XHJcbiAgICB9KCkpO1xyXG4gICAgLy8gQ29udHJvbGxlclxyXG4gICAgdmFyIENvbnRyb2xsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gQ29udHJvbGxlcihhcHAsIG1vZGVsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYXBwID0gYXBwO1xyXG4gICAgICAgICAgICB0aGlzLm1vZGVsID0gbW9kZWw7XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBDb250cm9sbGVyLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICB2YXIgbW9kYWxXaW5kb3cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtZmVpbGQnKTtcclxuICAgICAgICAgICAgdmFyIGFkZEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhZGQnKTtcclxuICAgICAgICAgICAgdmFyIHdpbkJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN3aW4nKTtcclxuICAgICAgICAgICAgdmFyIGNhbmNlbEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjYW5jZWwnKTtcclxuICAgICAgICAgICAgdmFyIHJlZ0J0biA9IHRoaXMuYXBwLnF1ZXJ5U2VsZWN0b3IoJyNyZWdCdG4nKTtcclxuICAgICAgICAgICAgdmFyIGlucHV0cyA9IG1vZGFsV2luZG93ID09PSBudWxsIHx8IG1vZGFsV2luZG93ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtb2RhbFdpbmRvdy5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCcpO1xyXG4gICAgICAgICAgICB2YXIgbWVudUJ1dHRvbnMgPSB0aGlzLmFwcC5xdWVyeVNlbGVjdG9yQWxsKCcuaGVhZGVyLW1lbnVfX2l0ZW0nKTtcclxuICAgICAgICAgICAgLy8gZ2V0IGV2ZW50IG9uIG1vZGFsIHdpbmRvd1xyXG4gICAgICAgICAgICBhZGRCdG4gPT09IG51bGwgfHwgYWRkQnRuID09PSB2b2lkIDAgPyB2b2lkIDAgOiBhZGRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5jbGlja0FkZEJ0bk1vZGFsKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3RhcnRHYW1lID0gX3RoaXMuYXBwLnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXItYnV0dG9uLXN0YXJ0Jyk7XHJcbiAgICAgICAgICAgICAgICBzdGFydEdhbWUgPT09IG51bGwgfHwgc3RhcnRHYW1lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzdGFydEdhbWUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0R2FtZS5pZCA9PT0gJ3N0YXJ0R2FtZScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY2xpY2tTdGFydEdhbWUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnRHYW1lLmlkID09PSAnc3RvcEdhbWUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmNsaWNrU3RvcEdhbWUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY2FuY2VsQnRuID09PSBudWxsIHx8IGNhbmNlbEJ0biA9PT0gdm9pZCAwID8gdm9pZCAwIDogY2FuY2VsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuY2xpY2tDYW5jZWxCdG5Nb2RhbCgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgd2luQnRuID09PSBudWxsIHx8IHdpbkJ0biA9PT0gdm9pZCAwID8gdm9pZCAwIDogd2luQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuY2xpY2tXaW5CdG5Nb2RhbCgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaW5wdXRzID09PSBudWxsIHx8IGlucHV0cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5wdXRzLmZvckVhY2goZnVuY3Rpb24gKGlucCkge1xyXG4gICAgICAgICAgICAgICAgaW5wLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5nZXRQYXJhbWV0cnNJbnB1dChpbnAuaWQsIGlucC52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vIGdldCBldmVudCBvbiBhYXAgXHJcbiAgICAgICAgICAgIG1lbnVCdXR0b25zLmZvckVhY2goZnVuY3Rpb24gKG1lbnUpIHtcclxuICAgICAgICAgICAgICAgIG1lbnUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY2xpY2tNZW51QnV0dG9uKG1lbnUpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZWdCdG4gPT09IG51bGwgfHwgcmVnQnRuID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZWdCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5jbGlja05ld1BsYXllckJ0bigpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENvbnRyb2xsZXIucHJvdG90eXBlLmNsaWNrTWVudUJ1dHRvbiA9IGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW9kZWwuc2VsZWN0TWVudShpdGVtKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIDtcclxuICAgICAgICBDb250cm9sbGVyLnByb3RvdHlwZS5jbGlja05ld1BsYXllckJ0biA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5tb2RlbC5vcGVuTW9kYWxXaW5kb3coKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENvbnRyb2xsZXIucHJvdG90eXBlLmNsaWNrQ2FuY2VsQnRuTW9kYWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW9kZWwuY2xvc2VNb2RhbFdpbmRvdygnZGVsZXRlRGF0YScpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ29udHJvbGxlci5wcm90b3R5cGUuY2xpY2tBZGRCdG5Nb2RhbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5tb2RlbC5jaGVja1JlZ2lzdHJhdGlvbkRhdGEoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENvbnRyb2xsZXIucHJvdG90eXBlLmNsaWNrV2luQnRuTW9kYWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW9kZWwuY2xvc2VNb2RhbFdpbigpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ29udHJvbGxlci5wcm90b3R5cGUuZ2V0UGFyYW1ldHJzSW5wdXQgPSBmdW5jdGlvbiAoaWQsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW9kZWwuY2hlY2tWYWx1ZUlucHV0KGlkLCB2YWx1ZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDb250cm9sbGVyLnByb3RvdHlwZS5jbGlja1N0YXJ0R2FtZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgdGhpcy5tb2RlbC5nZXRTdGFydEdhbWUoKTtcclxuICAgICAgICAgICAgdmFyIGNhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2FyZC13cmFwJyk7XHJcbiAgICAgICAgICAgIGNhcmQuZm9yRWFjaChmdW5jdGlvbiAoY2FyZCkge1xyXG4gICAgICAgICAgICAgICAgY2FyZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2FyZC5jbGFzc0xpc3QuY29udGFpbnMoJ3JvdGF0ZScpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLm1vZGVsLnRvUm90YXRlQ2FyZChjYXJkKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDb250cm9sbGVyLnByb3RvdHlwZS5jbGlja1N0b3BHYW1lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLm1vZGVsLmdldFN0b3BHYW1lKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gQ29udHJvbGxlcjtcclxuICAgIH0oKSk7XHJcbiAgICB2YXIgdmlldyA9IG5ldyBWaWV3KGFwcCk7XHJcbiAgICB2YXIgbW9kZWwgPSBuZXcgTW9kZWwodmlldyk7XHJcbiAgICB2YXIgY29udHJvbGxlciA9IG5ldyBDb250cm9sbGVyKGFwcCwgbW9kZWwpO1xyXG59XHJcbmV4cG9ydHMuZGVmYXVsdCA9IG12YztcclxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgaXMgcmVmZXJlbmNlZCBieSBvdGhlciBtb2R1bGVzIHNvIGl0IGNhbid0IGJlIGlubGluZWRcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMDMpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==